var WebEventTracker=function(){var v={live_web_events:"live",app_live_web_events:"app_live",automate_web_events:"automate",app_automate_web_events:"app_automate",web_events:"web",web_events_pii:"web"},f=["/pricing","/contact","/accounts/subscriptions","/accounts/manage-users"],y=window.location.pathname;return{logEvent:function(e,t,a,n,i,s,u){if("object"==typeof(n=n||{})&&!Array.isArray(n)){n.url=window.location.href,delete n.email,n.team=n.team||v[t];o=n,r=t,o=JSON.parse(JSON.stringify(o)),p=window.location.hostname.split("."),p=-1!==["appaccessibility","appaccessibility-app-a11y","appaccessibility-dev-app-a11y","appaccessibility-preprod"].indexOf(p[0]),v[r]===v.app_live_web_events&&p&&(o.team="ma11y",o.product="ma11y_testing",r="web_events");var o,r,p={eventType:r,eventData:o};if(t=p.eventType,n=p.eventData,window.BrowserStack&&window.BrowserStack.DEBUG_LOG_EVENTS&&console.log("%c LOG EVENT","background-color: darkblue; color:white",{key:a,data:n,eventType:t,skipLoggingKeys:e}),-1===e.indexOf("amplitude")&&"undefined"!=typeof Amplitude&&Amplitude&&"undefined"!=typeof amplitude&&Amplitude.logEvent(a,n,i),""!=window.location.search)try{var d=location.search.substring(1),c={},_=["utm_campaign","utm_content","utm_keyword","utm_medium","utm_source","utm_term"],m=d.split("&").filter(function(e){return-1===e.indexOf("pref_info")&&-1===e.indexOf("email_info")}).join("&"),l=JSON.parse('{"'+m.replace(/&/g,'","').replace(/=/g,'":"')+'"}',function(e,t){return""===e?t:decodeURIComponent(t)});-1!==f.indexOf(y)&&(Object.keys(l).forEach(function(e){-1<_.indexOf(e)&&(c[e]=l[e])}),0<Object.keys(c).length&&(n.params=c))}catch(e){return!1}"NewSignup"===a&&(n.user={user_id:n.user_id,type:n.user_type,plan_id:n.plan_id,group_id:n.group_id}),-1===e.indexOf("EDS")&&EDS.logEvent(a,t,n),!0!==s||null!==(r=function(e,t){var a=null;if(e)a={category:t.team||"",label:t.label||"",action:e};return a}(a,n))&&!0===u&&Analytics.sendDualEventGA(r.action,r.category,r.label)}}}}();
var EDS={appAutomateWebEvents:"app_automate_web_events",automateWebEvent:"automate_web_events",liveWebEvents:"live_web_events",appLiveWebEvents:"app_live_web_events",webEvents:"web_events",webEventsPii:"web_events_pii",liveTestSessions:"live_test_sessions",appLiveTestSessions:"app_live_test_sessions",statUptimeCalculation:"stat_uptime_calculation",user:{location:{}},initialized:!1,init:function(e){EDS.initialized||(EDS.user=e,EDS.initialized=!0)},getHeader:function(e){switch(e){case"FrontendGeneralStats":return{name:"X-Frontend-Stats",val:"general"};case"FrontendPerformanceStats":return{name:"X-Frontend-Stats",val:"performance"};default:return!1}},getAmplitudeSpecificData:function(){var e=EDS.getBsDeviceId(),t=EDS.getUserDemographics();return{device_id:e,city:EDS.user.location.city,country:EDS.user.location.country,ip:EDS.user.location.ip,region:EDS.user.location.region,location_lng:EDS.user.location.longitude,location_lat:EDS.user.location.latitude,device_family:t.os,device_model:t.os,device_type:t.os,os:t.os,os_name:t.os,os_version:t.os,browser:t.browser,browser_version:t.browser_version,platform:t.platform}},shouldSendToEDS:function(e){return e==EDS.liveTestSessions?EDSLiveTestSessionsThrottleThreshold:e==EDS.appLiveTestSessions?EDSAppLiveTestSessionsThrottleThreshold:e==EDS.liveWebEvents?EDSLiveWebEventsThrottleThreshold:e==EDS.appLiveWebEvents?EDSAppLiveWebEventsThrottleThreshold:e==EDS.appAutomateWebEvents?EDSAppAutomateWebEventsThrottleThreshold:e==EDS.webEvents?EDSWebEventsThrottleThreshold:e==EDS.webEventsPii?EDSWebEventsPiiThrottleThreshold:e==EDS.automateWebEvent||Math.floor(100*Math.random())<EDSCommonThrottleThreshold},logEvent:function(e,t,n,i){var s,o;if("undefined"!=typeof EDSUserDetails&&(EDS.init(EDSUserDetails),EDS.shouldSendToEDS(t))){t!=EDS.liveTestSessions&&(EDS.user=$.extend(EDS.user,EDS.getAmplitudeSpecificData())),t!=EDS.liveTestSessions&&(EDS.user=$.extend(EDS.user,{vwo:window.Amplitude&&window.Amplitude.getVWOExperiments?Amplitude.getVWOExperiments():{},internalExps:BrowserStackConfig.allExperiments,internalAbExps:BrowserStackConfig.allAbExperiments,browserStackExperiments:"undefined"!=typeof Experiments?Experiments:{}})),i={event_type:t,data:$.extend({user:EDS.user,session_id:i,eds_timestamp:parseInt((new Date).getTime()/1e3,10)},n),api_key:EdsConfig.api},t!=EDS.liveTestSessions&&(i.data=$.extend(i.data,{event_name:e}));try{"undefined"==typeof getProductName||("app-live"===(o=getProductName())||"live"===o)&&window.Appcues&&window.Appcues.track&&(window.Appcues.track(i.data.event_name,window.flattenObjectWithCustomSeparator(i.data,"--\x3e")),"LiveDashboardExploration"===i.data.event_name&&(i.data.sentToAppcues=!0))}catch(e){i.data.sentToAppcues=!1}n="https://"+EdsConfig.server+":"+EdsConfig.port+"/send_event",s=this.getHeader(e),jQuery.ajax({url:n,type:"POST",contentType:"application/json",data:JSON.stringify(i),beforeSend:function(e){s&&e.setRequestHeader(s.name,s.val)}})}},sendToEDSDenorm:function(e,t){var n={};$.each(e,function(e,t){try{(-1<EDSDenormalizedLogs.edsAllowedParams.indexOf(e)||-1<EDSDenormalizedLogs.edsAllowedParams.indexOf(e.replace("_count","")))&&(n[e]=t)}catch(e){}});try{0<Object.keys(n).length&&BsWebrtcApi.live_session_id&&(n.version=BsWebrtcApi.version,n.session_id=BsWebrtcApi.live_session_id,t&&(n.session_id=t),BrowserStack.app_live_testing?EDSDenormalizedLogs.sendEvent("eds_app_live_session_report",n):EDSDenormalizedLogs.sendEvent("eds_live_session_report",n))}catch(e){}},guid:function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},getUserDemographics:function(){var e=EDS.getBrowserVersion(),t=e[0],e=e[1];return{os:EDS.getUserOS(),browser:t,browser_version:e,platform:EDS.getPlatform()}},getUserOS:function(){var e="Unknown OS";return-1!=navigator.appVersion.indexOf("Win")&&(e="Windows"),-1!=navigator.appVersion.indexOf("Mac")&&(e="Mac"),-1!=navigator.appVersion.indexOf("X11")&&(e="UNIX"),e=-1!=navigator.appVersion.indexOf("Linux")?"Linux":e},getBrowserVersion:function(){var e,t=navigator.userAgent,n=t.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/Edg/.test(t)?["Edge",(t.match(/(Edg(?=\/))\/?\s*(\d+)/i)||[])[2]]:/trident/i.test(n[1])?"IE "+((e=/\brv[ :]+(\d+)/g.exec(t)||[])[1]||""):"Chrome"===n[1]&&null!=(e=t.match(/\b(OPR|Edge)\/(\d+)/))?e.slice(1).join(" ").replace("OPR","Opera"):(n=n[2]?[n[1],n[2]]:[navigator.appName,navigator.appVersion,"-?"],null!=(e=t.match(/version\/(\d+)/i))&&n.splice(1,1,e[1]),n)},getPlatform:function(){return navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Windows Phone/i)?"Mobile":"Web"},getBsDeviceId:function(){var e=Cookie.read("bs_deviceId");return null!=e&&"undefined"!=e&&""!=e||(e=EDS.guid(),Cookie.create("bs_deviceId",e)),e}};
var PerformanceMonitoring=function(){var t=performance,e=t.timing,n="";function r(e){return t.getEntries().filter(function(t){return t.initiatorType&&t.initiatorType===e}).length}function i(e){var n,r={};return t.getEntries().forEach(function(t){t.initiatorType&&t.initiatorType===e&&(n=t.name.split(".").pop(),/^[a-zA-Z]+$/i.test(n)&&(r[n]=r[n]?r[n]+=1:1))}),r}function a(e){var n=0;return t.getEntries().forEach(function(t){t.initiatorType&&t.initiatorType===e&&(n+=t.transferSize)}),n}return{init:function(){if(!window.performance||!BrowserStackConfig)return!1;if(!EDSFrontendPerformanceThreshold)return!1;if(!isPerformanceGetEntriesByTypeAvailable())return!1;"undefined"!=typeof sessionStorage&&(n=sessionStorage.getItem("event_id")||"");var t={timeToFirstByte:e.responseStart-e.requestStart,firstContentfulPaint:function(e,t){var n=performance.getEntriesByType("paint").filter(function(t){if(t.name===e)return t});if(n[0])return Math.round(n[0][t]);return-1}("first-contentful-paint","startTime"),navigation:function(t){var e=performance.getEntriesByType("navigation");if(e&&e[0])return e[0][t];return""}("type"),domLoadTime:e.domContentLoadedEventEnd-e.navigationStart,pageLoadTime:e.loadEventEnd-e.navigationStart,assets:{count:{img:i("img"),css:r("link"),script:r("script"),cssImg:i("css")},size:{css:a("link"),script:a("script"),img:a("img")}},event_id:n};Object.keys(t).length&&(t.userAgentString=navigator.userAgent,t.browser=BrowserDetect.browser.toLowerCase(),t.browserVersion=BrowserDetect.version,t.dashboard="undefined"!=typeof getProductKey&&getProductKey()||"web",t.url=window.location.href),Object.keys(t).length&&(t.largestContentfulPaint=NewPerformanceMonitoring.getLcpData(),t.firstInputDelay=NewPerformanceMonitoring.getFidData()||0,t.cumulativeLayoutShift=NewPerformanceMonitoring.getClsData()||0,t.INP=NewPerformanceMonitoring.getINPData()||{},NewPerformanceMonitoring.getFcpData()&&(t.oldFirstContentfulPaint=t.firstContentfulPaint,t.firstContentfulPaint=NewPerformanceMonitoring.getFcpData()),NewPerformanceMonitoring.getTtfbData()&&(t.oldTimeToFirstByte=t.timeToFirstByte,t.timeToFirstByte=NewPerformanceMonitoring.getTtfbData()),window.isFrontendPerfromanceEventTriggered?window.isFrontendPerfromanceEventTriggered=!1:(WebEventTracker.logEvent(["amplitude"],EDS.webEvents,"FrontendPerformanceStats",t),window.isFrontendPerfromanceEventTriggered=!0),sessionStorage.removeItem("event_id"))}}}(),NewPerformanceMonitoring=function(){var g={},d=[];return{init:function(){if(!window.PerformanceObserver)return!1;try{var t=new PerformanceObserver(function(t){for(var e=t.getEntriesByName("first-contentful-paint"),n=0;n<e.length;n++){var r=e[n];g.firstContentfulPaint=Math.round(r.startTime)}});t.observe({type:"paint",buffered:!0}),d.push(t)}catch(t){}try{var a,e=new PerformanceObserver(function(t){for(var e=t.getEntries(),n=0;n<e.length;n++){var r,i=e[n];i.startTime!==a&&(r=i.element?i.element.outerHTML.slice(0,80):"(no element)",r="New LCP: "+i.startTime+"ms, Size: "+i.size+"px^2, HTML: "+r,a=Math.round(i.startTime),g.largestContentfulPaint||(g.largestContentfulPaint={}),g.largestContentfulPaint.lastLcp=a,g.largestContentfulPaint.data||(g.largestContentfulPaint.data=[]),g.largestContentfulPaint.data.push(r))}});e.observe({type:"largest-contentful-paint",buffered:!0}),d.push(e)}catch(t){}try{var n=new PerformanceObserver(function(t){t=t.getEntries()[0],t=t.processingStart-t.startTime;g.firstInputDelay||(g.firstInputDelay=Math.round(t))});n.observe({type:"first-input",buffered:!0}),d.push(n)}catch(t){}try{var r=new PerformanceObserver(function(t){t=t.getEntriesByType("navigation");g.timeToFirstByte=Math.round(t[0].responseStart)});r.observe({type:"navigation",buffered:!0}),d.push(r)}catch(t){}try{var o=0,s=0,f=[],i=new PerformanceObserver(function(t){for(var e=t.getEntries(),n=0;n<e.length;n++){var r,i,a=e[n];a.hadRecentInput||(r=f[0],i=f[f.length-1],s&&a.startTime-i.startTime<1e3&&a.startTime-r.startTime<5e3?(s+=a.value,f.push(a)):(s=a.value,f=[a]),o<s&&(o=s,g.cumulativeLayoutShift=o.toFixed(3)))}});i.observe({type:"layout-shift",buffered:!0}),d.push(i)}catch(t){}var c=-1;try{var u=new PerformanceObserver(function(t){t.getEntries().forEach(function(t){t.interactionId&&t.duration>c&&t.target&&(c=t.duration,g.INP={duration:t.duration,target:{class:t.target.className,id:t.target.id}})})});u.observe({type:"event",buffered:!0,durationThreshold:0}),window.addEventListener("beforeunload",function(){u.disconnect()})}catch(t){}},getLcpData:function(){return g.largestContentfulPaint},getFidData:function(){return g.firstInputDelay},getFcpData:function(){return g.firstContentfulPaint},getTtfbData:function(){return g.timeToFirstByte},getClsData:function(){return g.cumulativeLayoutShift},getINPData:function(){return g.INP},disconnectObservers:function(){for(var t=0;t<d.length;t++)try{d[t].disconnect()}catch(t){}}}}();function isPerformanceGetEntriesByTypeAvailable(){return"function"==typeof performance.getEntriesByType}NewPerformanceMonitoring.init(),window.addEventListener("load",function(){setTimeout(function(){PerformanceMonitoring.init(),NewPerformanceMonitoring.disconnectObservers()},1e3)},!1);
//# sourceMappingURL=http://browserstack-frontend-sourcemaps.s3-website-us-east-1.amazonaws.com/production/assets/uptime.js.map
