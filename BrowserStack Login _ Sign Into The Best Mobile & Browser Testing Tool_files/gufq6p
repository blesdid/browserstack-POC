(function trusteNotice(){
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.createTemplateTagFirstArg=function(a){return a.raw=a};$jscomp.createTemplateTagFirstArgWithRaw=function(a,c){a.raw=c;return a};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.ISOLATE_POLYFILLS=!1;$jscomp.FORCE_POLYFILL_PROMISE=!1;$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||'function'==typeof Object.defineProperties?Object.defineProperty:function(a,c,d){if(a==Array.prototype||a==Object.prototype)return a;a[c]=d.value;return a};$jscomp.getGlobal=function(a){a=['object'==typeof globalThis&&globalThis,a,'object'==typeof window&&window,'object'==typeof self&&self,'object'==typeof global&&global];for(var c=0;c<a.length;++c){var d=a[c];if(d&&d.Math==Math)return d}throw Error('Cannot find global object');};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.IS_SYMBOL_NATIVE='function'===typeof Symbol&&'symbol'===typeof Symbol('x');$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX='$jscp$';var $jscomp$lookupPolyfilledValue=function(a,c,d){if(!d||null!=a){d=$jscomp.propertyToPolyfillSymbol[c];if(null==d)return a[c];d=a[d];return void 0!==d?d:a[c]}};
$jscomp.polyfill=function(a,c,d,e){c&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(a,c,d,e):$jscomp.polyfillUnisolated(a,c,d,e))};$jscomp.polyfillUnisolated=function(a,c,d,e){d=$jscomp.global;a=a.split('.');for(e=0;e<a.length-1;e++){var b=a[e];if(!(b in d))return;d=d[b]}a=a[a.length-1];e=d[a];c=c(e);c!=e&&null!=c&&$jscomp.defineProperty(d,a,{configurable:!0,writable:!0,value:c})};
$jscomp.polyfillIsolated=function(a,c,d,e){var b=a.split('.');a=1===b.length;e=b[0];e=!a&&e in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var f=0;f<b.length-1;f++){var g=b[f];if(!(g in e))return;e=e[g]}b=b[b.length-1];d=$jscomp.IS_SYMBOL_NATIVE&&'es6'===d?e[b]:null;c=c(d);null!=c&&(a?$jscomp.defineProperty($jscomp.polyfills,b,{configurable:!0,writable:!0,value:c}):c!==d&&(void 0===$jscomp.propertyToPolyfillSymbol[b]&&(d=1E9*Math.random()>>>0,$jscomp.propertyToPolyfillSymbol[b]=$jscomp.IS_SYMBOL_NATIVE?
$jscomp.global.Symbol(b):$jscomp.POLYFILL_PREFIX+d+'$'+b),$jscomp.defineProperty(e,$jscomp.propertyToPolyfillSymbol[b],{configurable:!0,writable:!0,value:c})))};$jscomp.polyfill('Object.is',function(a){return a?a:function(c,d){return c===d?0!==c||1/c===1/d:c!==c&&d!==d}},'es6','es3');
$jscomp.polyfill('Array.prototype.includes',function(a){return a?a:function(c,d){var e=this;e instanceof String&&(e=String(e));var b=e.length;d=d||0;for(0>d&&(d=Math.max(d+b,0));d<b;d++){var f=e[d];if(f===c||Object.is(f,c))return!0}return!1}},'es7','es3');
$jscomp.checkStringArgs=function(a,c,d){if(null==a)throw new TypeError("The 'this' value for String.prototype."+d+' must not be null or undefined');if(c instanceof RegExp)throw new TypeError('First argument to String.prototype.'+d+' must not be a regular expression');return a+''};$jscomp.polyfill('String.prototype.includes',function(a){return a?a:function(c,d){return-1!==$jscomp.checkStringArgs(this,c,'includes').indexOf(c,d||0)}},'es6','es3');
$jscomp.arrayIteratorImpl=function(a){var c=0;return function(){return c<a.length?{done:!1,value:a[c++]}:{done:!0}}};$jscomp.arrayIterator=function(a){return{next:$jscomp.arrayIteratorImpl(a)}};$jscomp.initSymbol=function(){};
$jscomp.polyfill('Symbol',function(a){if(a)return a;var c=function(f,g){this.$jscomp$symbol$id_=f;$jscomp.defineProperty(this,'description',{configurable:!0,writable:!0,value:g})};c.prototype.toString=function(){return this.$jscomp$symbol$id_};var d='jscomp_symbol_'+(1E9*Math.random()>>>0)+'_',e=0,b=function(f){if(this instanceof b)throw new TypeError('Symbol is not a constructor');return new c(d+(f||'')+'_'+e++,f)};return b},'es6','es3');
$jscomp.polyfill('Symbol.iterator',function(a){if(a)return a;a=Symbol('Symbol.iterator');for(var c='Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array'.split(' '),d=0;d<c.length;d++){var e=$jscomp.global[c[d]];'function'===typeof e&&'function'!=typeof e.prototype[a]&&$jscomp.defineProperty(e.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}})}return a},'es6',
'es3');$jscomp.iteratorPrototype=function(a){a={next:a};a[Symbol.iterator]=function(){return this};return a};$jscomp.iteratorFromArray=function(a,c){a instanceof String&&(a+='');var d=0,e=!1,b={next:function(){if(!e&&d<a.length){var f=d++;return{value:c(f,a[f]),done:!1}}e=!0;return{done:!0,value:void 0}}};b[Symbol.iterator]=function(){return b};return b};$jscomp.polyfill('Array.prototype.keys',function(a){return a?a:function(){return $jscomp.iteratorFromArray(this,function(c){return c})}},'es6','es3');
$jscomp.checkEs6ConformanceViaProxy=function(){try{var a={},c=Object.create(new $jscomp.global.Proxy(a,{get:function(d,e,b){return d==a&&'q'==e&&b==c}}));return!0===c.q}catch(d){return!1}};$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS=!1;$jscomp.ES6_CONFORMANCE=$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS&&$jscomp.checkEs6ConformanceViaProxy();
$jscomp.makeIterator=function(a){var c='undefined'!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];if(c)return c.call(a);if('number'==typeof a.length)return $jscomp.arrayIterator(a);throw Error(String(a)+' is not an iterable or ArrayLike');};$jscomp.owns=function(a,c){return Object.prototype.hasOwnProperty.call(a,c)};
$jscomp.polyfill('WeakMap',function(a){function c(){if(!a||!Object.seal)return!1;try{var h=Object.seal({}),m=Object.seal({}),n=new a([[h,2],[m,3]]);if(2!=n.get(h)||3!=n.get(m))return!1;n.delete(h);n.set(m,4);return!n.has(h)&&4==n.get(m)}catch(p){return!1}}function d(){}function e(h){var m=typeof h;return'object'===m&&null!==h||'function'===m}function b(h){if(!$jscomp.owns(h,g)){var m=new d;$jscomp.defineProperty(h,g,{value:m})}}function f(h){if(!$jscomp.ISOLATE_POLYFILLS){var m=Object[h];m&&(Object[h]=
function(n){if(n instanceof d)return n;Object.isExtensible(n)&&b(n);return m(n)})}}if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(a&&$jscomp.ES6_CONFORMANCE)return a}else if(c())return a;var g='$jscomp_hidden_'+Math.random();f('freeze');f('preventExtensions');f('seal');var k=0,l=function(h){this.id_=(k+=Math.random()+1).toString();if(h){h=$jscomp.makeIterator(h);for(var m;!(m=h.next()).done;)m=m.value,this.set(m[0],m[1])}};l.prototype.set=function(h,m){if(!e(h))throw Error('Invalid WeakMap key');
b(h);if(!$jscomp.owns(h,g))throw Error('WeakMap key fail: '+h);h[g][this.id_]=m;return this};l.prototype.get=function(h){return e(h)&&$jscomp.owns(h,g)?h[g][this.id_]:void 0};l.prototype.has=function(h){return e(h)&&$jscomp.owns(h,g)&&$jscomp.owns(h[g],this.id_)};l.prototype.delete=function(h){return e(h)&&$jscomp.owns(h,g)&&$jscomp.owns(h[g],this.id_)?delete h[g][this.id_]:!1};return l},'es6','es3');$jscomp.MapEntry=function(){};
$jscomp.polyfill('Map',function(a){function c(){if($jscomp.ASSUME_NO_NATIVE_MAP||!a||'function'!=typeof a||!a.prototype.entries||'function'!=typeof Object.seal)return!1;try{var l=Object.seal({x:4}),h=new a($jscomp.makeIterator([[l,'s']]));if('s'!=h.get(l)||1!=h.size||h.get({x:4})||h.set({x:4},'t')!=h||2!=h.size)return!1;var m=h.entries(),n=m.next();if(n.done||n.value[0]!=l||'s'!=n.value[1])return!1;n=m.next();return n.done||4!=n.value[0].x||'t'!=n.value[1]||!m.next().done?!1:!0}catch(p){return!1}}
if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(a&&$jscomp.ES6_CONFORMANCE)return a}else if(c())return a;var d=new WeakMap,e=function(l){this[0]={};this[1]=g();this.size=0;if(l){l=$jscomp.makeIterator(l);for(var h;!(h=l.next()).done;)h=h.value,this.set(h[0],h[1])}};e.prototype.set=function(l,h){l=0===l?0:l;var m=b(this,l);m.list||(m.list=this[0][m.id]=[]);m.entry?m.entry.value=h:(m.entry={next:this[1],previous:this[1].previous,head:this[1],key:l,value:h},m.list.push(m.entry),this[1].previous.next=
m.entry,this[1].previous=m.entry,this.size++);return this};e.prototype.delete=function(l){l=b(this,l);return l.entry&&l.list?(l.list.splice(l.index,1),l.list.length||delete this[0][l.id],l.entry.previous.next=l.entry.next,l.entry.next.previous=l.entry.previous,l.entry.head=null,this.size--,!0):!1};e.prototype.clear=function(){this[0]={};this[1]=this[1].previous=g();this.size=0};e.prototype.has=function(l){return!!b(this,l).entry};e.prototype.get=function(l){return(l=b(this,l).entry)&&l.value};e.prototype.entries=
function(){return f(this,function(l){return[l.key,l.value]})};e.prototype.keys=function(){return f(this,function(l){return l.key})};e.prototype.values=function(){return f(this,function(l){return l.value})};e.prototype.forEach=function(l,h){for(var m=this.entries(),n;!(n=m.next()).done;)n=n.value,l.call(h,n[1],n[0],this)};e.prototype[Symbol.iterator]=e.prototype.entries;var b=function(l,h){var m=h&&typeof h;'object'==m||'function'==m?d.has(h)?m=d.get(h):(m=''+ ++k,d.set(h,m)):m='p_'+h;var n=l[0][m];
if(n&&$jscomp.owns(l[0],m))for(l=0;l<n.length;l++){var p=n[l];if(h!==h&&p.key!==p.key||h===p.key)return{id:m,list:n,index:l,entry:p}}return{id:m,list:n,index:-1,entry:void 0}},f=function(l,h){var m=l[1];return $jscomp.iteratorPrototype(function(){if(m){for(;m.head!=l[1];)m=m.previous;for(;m.next!=m.head;)return m=m.next,{done:!1,value:h(m)};m=null}return{done:!0,value:void 0}})},g=function(){var l={};return l.previous=l.next=l.head=l},k=0;return e},'es6','es3');
$jscomp.polyfill('Set',function(a){function c(){if($jscomp.ASSUME_NO_NATIVE_SET||!a||'function'!=typeof a||!a.prototype.entries||'function'!=typeof Object.seal)return!1;try{var e=Object.seal({x:4}),b=new a($jscomp.makeIterator([e]));if(!b.has(e)||1!=b.size||b.add(e)!=b||1!=b.size||b.add({x:4})!=b||2!=b.size)return!1;var f=b.entries(),g=f.next();if(g.done||g.value[0]!=e||g.value[1]!=e)return!1;g=f.next();return g.done||g.value[0]==e||4!=g.value[0].x||g.value[1]!=g.value[0]?!1:f.next().done}catch(k){return!1}}
if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(a&&$jscomp.ES6_CONFORMANCE)return a}else if(c())return a;var d=function(e){this.map_=new Map;if(e){e=$jscomp.makeIterator(e);for(var b;!(b=e.next()).done;)this.add(b.value)}this.size=this.map_.size};d.prototype.add=function(e){e=0===e?0:e;this.map_.set(e,e);this.size=this.map_.size;return this};d.prototype.delete=function(e){e=this.map_.delete(e);this.size=this.map_.size;return e};d.prototype.clear=function(){this.map_.clear();this.size=0};d.prototype.has=
function(e){return this.map_.has(e)};d.prototype.entries=function(){return this.map_.entries()};d.prototype.values=function(){return this.map_.values()};d.prototype.keys=d.prototype.values;d.prototype[Symbol.iterator]=d.prototype.values;d.prototype.forEach=function(e,b){var f=this;this.map_.forEach(function(g){return e.call(b,g,g,f)})};return d},'es6','es3');
$jscomp.polyfill('String.prototype.replaceAll',function(a){return a?a:function(c,d){if(c instanceof RegExp&&!c.global)throw new TypeError('String.prototype.replaceAll called with a non-global RegExp argument.');return c instanceof RegExp?this.replace(c,d):this.replace(new RegExp(String(c).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,'\\$1').replace(/\x08/g,'\\x08'),'g'),d)}},'es_2021','es3');
$jscomp.polyfill('Array.from',function(a){return a?a:function(c,d,e){d=null!=d?d:function(k){return k};var b=[],f='undefined'!=typeof Symbol&&Symbol.iterator&&c[Symbol.iterator];if('function'==typeof f){c=f.call(c);for(var g=0;!(f=c.next()).done;)b.push(d.call(e,f.value,g++))}else for(f=c.length,g=0;g<f;g++)b.push(d.call(e,c[g],g));return b}},'es6','es3');
$jscomp.polyfill('String.prototype.endsWith',function(a){return a?a:function(c,d){var e=$jscomp.checkStringArgs(this,c,'endsWith');c+='';void 0===d&&(d=e.length);d=Math.max(0,Math.min(d|0,e.length));for(var b=c.length;0<b&&0<d;)if(e[--d]!=c[--b])return!1;return 0>=b}},'es6','es3');$jscomp.polyfill('Math.trunc',function(a){return a?a:function(c){c=Number(c);if(isNaN(c)||Infinity===c||-Infinity===c||0===c)return c;var d=Math.floor(Math.abs(c));return 0>c?-d:d}},'es6','es3');
$jscomp.atMethod=function(a){a=Math.trunc(a)||0;0>a&&(a+=this.length);if(!(0>a||a>=this.length))return this[a]};$jscomp.polyfill('Array.prototype.at',function(a){return a?a:$jscomp.atMethod},'es_next','es5');$jscomp.typedArrayAt=function(a){return a?a:$jscomp.atMethod};$jscomp.polyfill('Int8Array.prototype.at',$jscomp.typedArrayAt,'es_next','es5');$jscomp.polyfill('Uint8Array.prototype.at',$jscomp.typedArrayAt,'es_next','es5');
$jscomp.polyfill('Uint8ClampedArray.prototype.at',$jscomp.typedArrayAt,'es_next','es5');$jscomp.polyfill('Int16Array.prototype.at',$jscomp.typedArrayAt,'es_next','es5');$jscomp.polyfill('Uint16Array.prototype.at',$jscomp.typedArrayAt,'es_next','es5');$jscomp.polyfill('Int32Array.prototype.at',$jscomp.typedArrayAt,'es_next','es5');$jscomp.polyfill('Uint32Array.prototype.at',$jscomp.typedArrayAt,'es_next','es5');$jscomp.polyfill('Float32Array.prototype.at',$jscomp.typedArrayAt,'es_next','es5');
$jscomp.polyfill('Float64Array.prototype.at',$jscomp.typedArrayAt,'es_next','es5');$jscomp.polyfill('String.prototype.at',function(a){return a?a:$jscomp.atMethod},'es_next','es5');window.truste=self.truste||{};truste.eu=truste.eu||{};truste.eu.version='80d0c94';truste.eu.COOKIE_DAX_NAME='notice_dax_signature';truste.eu.COOKIE_GDPR_PREF_NAME='notice_gdpr_prefs';truste.eu.COOKIE_PREF_NAME='notice_preferences';truste.eu.COOKIE_CATEGORY_NAME='optout_domains';truste.eu.COOKIE_REPOP='notice_poptime';
truste.eu.COOKIE_BEHAVIOR='notice_behavior';truste.eu.COOKIE_SCAN='notice_scan';truste.eu.COOKIE_UID='TAconsentID';truste.eu.CMAPI_BL='cmapi_gtm_bl';truste.eu.CMAPI_PRIVACY='cmapi_cookie_privacy';truste.eu.COOKIE_SESSION='TAsessionID';truste.eu.CUSTOM_PRIVACY_POLICY_LABEL='custom_footer_privacy_policy_label';truste.eu.CUSTOM_COOKIE_LINK_LABEL='custom_footer_cookie_link_label';truste.eu.PRIVACY_POLICY_LINK_PARAM_KEY='privacypolicylink';truste.eu.PRIVACY_POLICY_LINK_TEXT_PARAM_KEY='privacypolicylinktext';
truste.eu.COOKIE_LINK_PARAM_KEY='cookieLink';truste.eu.COOKIE_LINK_TEXT_PARAM_KEY='cookieLinkText';truste.eu.COOKIE_GPC_ISHONORED='gpcishonored';
(function(){var a=document.currentScript;a&&(a=new URLSearchParams(a.src.replace(/^[^\?]+\??/,'')),truste.eu.privacyPolicyLinkParam=a.get(truste.eu.PRIVACY_POLICY_LINK_PARAM_KEY),truste.eu.privacyPolicyLinkTextParam=a.get(truste.eu.PRIVACY_POLICY_LINK_TEXT_PARAM_KEY),truste.eu.cookieLinkParam=a.get(truste.eu.COOKIE_LINK_PARAM_KEY),truste.eu.cookieLinkTextParam=a.get(truste.eu.COOKIE_LINK_TEXT_PARAM_KEY),truste.eu.pcookie=a.get('pcookie'))})();
var bm=truste.eu.bindMap={version:'80d0c94',cmId:'gufq6p',icon:'Cookie Preferences',locale:'en',language:'en',country:'ma',state:'',behavior:'implied',behaviorManager:'af',cookiePreferenceIcon:'en-cookiepreferencestext.png',daxSignature:'',containerId:/^(_LB.*LB_)?$/.test('teconsent')?'teconsent':'teconsent',assetServerUrl:'https://consent.trustarc.com/v2/asset/',prefmgrUrl:'https://consent-pref.trustarc.com/self-service-cm/',privacyUrl:'',cdnURL:'https://consent.trustarc.com/',referer:'',fullURL:encodeURIComponent(window.location.href),
messageBaseUrl:'https://consent-reporting.trustarc.com/api/user-action/noticemsg?',bannerMsgUrl:'https://consent-reporting.trustarc.com/api/user-action/bannermsg?',logMsgUrl:'https://consent-reporting.trustarc.com/api/user-action/log?',iconBaseUrl:'https://consent.trustarc.com/',closeButtonUrl:'https://consent.truste.com/asset/ic-close.svg',logoUrl:'',apiDefaults:'{"reportlevel":16777215}',cmTimeout:parseInt('6000',10),popTime:Date.parse(''.replace(' +0000','Z').replace(' ','T'))||null,popupMsg:'We\'ve made updates that may change how we can collect or use information about you on this website.\nPlease review the choices available to you and resubmit your setting.',cookieExpiry:parseInt('365',10)||395,pageNumber:'',debug:!1,dntOptedIn:'',gpcOptedIn:'',
dynamicTracker:JSON.parse('false'),wcag2:/true/.test('false'),styles:{overlay:{backgroundColor:'#000',opacity:'0.4',position:'fixed',_position:'absolute',width:'100%',height:'100%',top:'0px',left:'0px',overflow:'hidden',filter:'Alpha(Opacity: 80)'},outerdiv:{width:'100%',height:'100%',overflow:'scroll',position:'absolute',top:'0',left:'0',WebkitOverflowScrolling:'touch'},box_overlay:{position:'absolute',top:'0px',left:'0px',bottom:'0px',right:'0px',borderRadius:'5px',padding:'10px',margin:'20px auto',
boxSizing:'content-box',minWidth:'220px',maxWidth:'650px',width:'100%',maxHeight:'650px',height:'650px'},inner_iframe:{border:'0px',borderRadius:'2px',overflow:'hidden',background:'#fff',display:'block',position:'absolute',top:'0px',left:'0px',width:'100%',height:'100%'},closebtn:{position:'absolute',top:'16px',right:'14px'}},bnFlags:{},flags:{isReconsentEvent:!1,dropPopCookie:!1,isRepopEvent:!1,isConsentRetrieved:!1},feat:{linkBannerMode:JSON.parse('false'),accessibility:JSON.parse('false'),
gtm:JSON.parse('true'),text:JSON.parse('true'),consentResolution:JSON.parse('false'),dropBehaviorCookie:JSON.parse('true'),crossDomain:JSON.parse('false'),uidEnabled:JSON.parse('true'),appendCmidEnabled:JSON.parse('false'),replaceDelimiter:JSON.parse('true'),declineBtnEnabled:JSON.parse('false'),secondStepOptin:JSON.parse('false'),dnt:JSON.parse('false')&&('1'==navigator.doNotTrack||'1'==window.doNotTrack),
gpc:JSON.parse('false')&&(navigator.globalPrivacyControl||window.globalPrivacyControl),gpcOvr:JSON.parse('false')&&(navigator.globalPrivacyControl||window.globalPrivacyControl),autoblock:JSON.parse('false')}};if('http:'!=self.location.protocol)for(var s$jscomp$6 in bm)bm[s$jscomp$6]&&bm[s$jscomp$6].replace&&(bm[s$jscomp$6]=bm[s$jscomp$6].replace(/^(http:)?\/\//,'https://'));
(function(a){if(a.feat.crossDomain){var c=function(){if(!window.frames.trustarc_notice)if(document.body){var d=document.body,e=document.createElement('iframe');e.style.display='none';e.name='trustarc_notice';e.id='trustarcNoticeFrame';e.src=a.assetServerUrl+'crossdomain.min.html&domain='+a.cmId;d.appendChild(e)}else setTimeout(c,5)};c()}})(truste.eu.bindMap);truste.util=truste.util||{};truste.util.getIntValue=function(a){a=parseInt(a,10);return isNaN(a)?null:a};
truste.util.isAscending=function(a){return a.every(function(c,d){return 0===d||c>=a[d-1]})};truste.util.checkConsentFormatValidity=function(a){a+='';var c=a.split(/[,|]/).map(function(e){return parseInt(e)}),d=truste.eu.bindMap.categoriesIndexesFromReferer.split('|').map(function(e){return parseInt(e)});return/^[0-9][0-9]?([,|][0-9][0-9]?)*$/.test(a)&&20>=c.length&&truste.util.isAscending(c)&&20>=truste.util.getLowestConsent(a)&&c.includes(0)&&c[c.length-1]<=d.length};
truste.util.validConsent=function(a){return null!=truste.util.getIntValue(a)&&-1<truste.util.getIntValue(a)&&truste.util.checkConsentFormatValidity(a)};truste.util.isAcceptAll=function(a){if(!a)return!1;var c=truste.util.createHighestLevelCookie();return(new RegExp(('^'+c+'$').replace(/\|/g,'.'))).test(a)};truste.util.optinAll=function(){var a=truste.util.createHighestLevelCookie();self.localStorage.removeItem(truste.eu.COOKIE_CATEGORY_NAME);truste.util.createPreferenceFromCookieValue(a)};
truste.util.getLowestConsent=function(a){if(null!=a&&0<a.length){var c=a.lastIndexOf(',');0>c&&(c=a.lastIndexOf('|'));return a.slice(c+1,a.length)}return null};truste.util.trace=function(){return self.console&&console.log&&(this.debug||!1!==this.debug&&(0>self.location.hostname.indexOf('.')||0<self.location.hostname.indexOf('.truste-svc.net')))?(console.log.apply&&console.log.apply(console,arguments),!0):!1};
truste.util.sendMessage=function sendMessage(a,c){var e;(sendMessage._imgrep||(sendMessage._imgrep=[])).push(e=new Image(1,1));e.onerror=sendMessage._errorCB||(sendMessage._errorCB=function(b){truste.util.trace('Error making GET request to: '+this.src)});e.src=c.replace(/^.{3,5}:/,self.location.protocol).replace(/\??$/,'?')+a};truste.util.sendLog=function(a,c){fetch(c.replace(/^.{3,5}:/,self.location.protocol).replace(/\??$/,'?')+a)};
truste.util.getStyle=function(a,c){if('object'!=typeof a||!c)return null;try{return a.currentStyle?a.currentStyle[c]:self.getComputedStyle?self.getComputedStyle(a,null).getPropertyValue(c):a.style[c]}catch(d){return null}};truste.util.readyState=function me(a){me.status=a&&'load'==a.type?'complete':self.document.readyState||me.status||'interactive';return me.status};self.addEventListener('load',truste.util.readyState);self.document.addEventListener('readystatechange',truste.util.readyState);
truste.util.COOKIE_NS='truste.cookie.';truste.util.cookie={init:function(a,c,d){c=c||'|_';d=d||', ';a&&(a=c,c=d,d=a);var e={};c.split('').forEach(function(b,f){e[b]=d[f]});this.replaceChar=e;this.regex=new RegExp(Object.keys(e).map(function(b){return'\\'+b}).join('|'),'g');return this},convert:function(a){var c=this;return a&&('string'===typeof a||a instanceof String)?a.replace(c.regex,function(d){return c.replaceChar[d]}):a}}.init(truste.eu.bindMap.feat.replaceDelimiter);
truste.util.readCookie=function(a,c){var d=truste.eu&&truste.eu.bindMap,e=null;d&&(e=truste.util._readCookie(d.cmId+'_'+a,c));null==e&&(e=truste.util._readCookie(a,c));return e};
truste.util._readCookie=function(a,c){var d=null;try{var e=(new RegExp('(^|\\s)'+a.replace('.','\\.')+'\\s*=\\s*([^;]*)')).exec(self.document.cookie);e&&2<e.length&&(d=e[2])}catch(b){truste.util.trace(b.message,b.stack)}!d&&c&&(/MSIE|Trident|Edge/.test(window.navigator.userAgent)?(c='nt_'+(new Date).getTime(),truste.util._createCookie('notice_test',c,null,!1),truste.util._readCookie('notice_test',!1)==c?self.localStorage.removeItem(truste.util.COOKIE_NS+a):d=truste.util._readCookieStorage(a),truste.util._createCookie('notice_test',
'','Thu, 01 Jan 1970 00:00:01 GMT',!1)):d=truste.util._readCookieStorage(a));c=truste.util.cookie.convert(d);c!==d&&((d=truste.util.getStorage(truste.util.COOKIE_NS+a,!1))?(e=new Date(d.expires),e>new Date&&truste.util._createCookie(a,d.value,e.toUTCString(),!0)):truste.util._createCookie(a,c),d=c);return d};
truste.util.createCookie=function(a,c,d,e){var b=truste.eu&&truste.eu.bindMap;b=b&&b.feat.appendCmidEnabled?b.cmId+'_'+a:a;truste.util._removeCookie(a);truste.util._removeCookie(b);truste.util._createCookie(b,c,d,e)};
truste.util._createCookie=function(a,c,d,e){c=truste.util.cookie.convert(c);var b=truste.eu.bindMap.cookieExpiry,f=truste.eu&&truste.eu.bindMap;e&&truste.util._createCookieStorage(a,c,d);e='; expires=';d?e='0'==d?'':e+d:(d=new Date,d.setDate(d.getDate()+b),e+=d.toUTCString());var g=self.location.hostname;b=!!g.match(/^\d{0,3}\.\d{0,3}\.\d{0,3}\.\d{0,3}$/)||'localhost'==g;var k=(d='https:'==self.location.protocol?' Secure;':'')?'None;':'Lax;';g=b?g:g.replace(/^www\./,'');d=(truste.util.samesite&&!truste.util.samesite(navigator.userAgent)?
'':' SameSite='+k)+d;if('undefined'!=typeof truste.eu.pcookie&&null!=truste.eu.pcookie){document.cookie=a+'=;expires=Thu, 01 Jan 1970 00:00:01 GMT; path=/;domain='+(b?'':'.')+g.replace(/^\./,'')+';'+d;if(!f.topLevelDomain){k=0;for(var l=g.split('.'),h=[],m='_gd'+(new Date).getTime();k<l.length-1&&-1==document.cookie.indexOf(m+'='+m);)g=l.slice(-1-++k).join('.'),document.cookie=m+'='+m+';domain='+g+';'+d,h.push(m);f.topLevelDomain=g;for(k=0;k<h.length;k++)document.cookie=h[k]+'=;expires=Thu, 01 Jan 1970 00:00:01 GMT;domain='+
g+';';document.cookie=m+'=;expires=Thu, 01 Jan 1970 00:00:01 GMT;domain='+g+';'+d}g=f.topLevelDomain}self.document.cookie=a+'='+c+e+'; path=/;domain='+(b?'':'.')+g.replace(/^\./,'')+';'+d};truste.util._removeCookie=function(a){truste.util._createCookie(a,'','Thu, 01 Jan 1970 00:00:01 GMT',!1);truste.util._removeStorage(truste.util.COOKIE_NS+a)};
truste.util.readCookieStorage=function(a){var c=truste.eu&&truste.eu.bindMap,d=null;c&&(d=truste.util._readCookieStorage(c.cmId+'_'+a));null==d&&(d=truste.util._readCookieStorage(a));return d};
truste.util._readCookieStorage=function(a){try{var c=truste.util.COOKIE_NS+a,d=truste.util.getStorage(c,!1),e=truste.util.getStorage(c,!0);if(!d&&!e)return null;if(e)return truste.util._createCookie(a,e.value),e.value;var b=new Date(d.expires);if(b<new Date)try{return self.localStorage.removeItem(c),null}catch(f){return null}truste.util._createCookie(a,d.value,b.toUTCString());return d.value}catch(f){truste.util.trace(f.message,f.stack)}return null};
truste.util._createCookieStorage=function(a,c,d){var e=truste.eu.bindMap.cookieExpiry,b={};b.name=truste.util.COOKIE_NS+a;b.value=c;b.path='/';if('0'==d)b.expires=d;else if(d){a=new Date(d);if(isNaN(a=a.getTime()+6E4*a.getTimezoneOffset()))throw Error('Invalid Date String');b.expires=a}else b.expires=(new Date).getTime()+864E5*e;truste.util._setStorage(b.name,b,b.expires<(new Date).getTime())};
truste.util.setStorage=function(a,c,d){var e=truste.eu&&truste.eu.bindMap;e=e&&e.feat.appendCmidEnabled?e.cmId+'_'+a:a;truste.util._removeStorage(a,d);truste.util._removeStorage(e,d);truste.util._setStorage(e,c,d)};truste.util._setStorage=function(a,c,d){c='string'==typeof c||c instanceof String?c:JSON.stringify(c);try{var e=d?self.sessionStorage||self.localStorage:self.localStorage;e.setItem?e.setItem(a,c):e[a]=c}catch(b){truste.util.trace('Current browser does not support HTML5 Local Storage')}};
truste.util._removeStorage=function(a,c){try{(c?self.sessionStorage||self.localStorage:self.localStorage).removeItem(a)}catch(d){truste.util.trace('Current browser does not support HTML5 Local Storage')}};truste.util.getStorage=function(a,c){var d=truste.eu&&truste.eu.bindMap,e=null;d&&(e=truste.util._getStorage(d.cmId+'_'+a,c));null==e&&(e=truste.util._getStorage(a,c));return e};
truste.util._getStorage=function(a,c){var d=null;try{var e=c?self.sessionStorage||self.localStorage:self.localStorage;d=e.getItem?e.getItem(a):e[a]}catch(b){truste.util.trace('Current browser does not support HTML5 Local Storage')}return d&&JSON.parse(d)||null};
truste.eu.msg={_listeners:[],addEventListener:function(a){truste.eu.msg._listeners.push(a)},dispatchEvent:function(a){for(var c=truste.eu.msg._listeners.length;0<c--;)try{truste.eu.msg._listeners[c](a)}catch(d){}},postMessage:function(a,c,d){(c||self).postMessage(a,d||'*')},msgListener:function(a){a.data&&truste.eu.msg.originSet.has(a.origin)&&(a='string'===typeof a.data?JSON.parse(a.data):a.data,truste.eu.msg.dispatchEvent(a))},log:function(a,c,d){c.debug||truste.util.sendLog('action='+a+'&domain='+
c.cmId+'&behavior='+c.behavior+'&country='+c.country+'&language='+c.language+'&rand='+Math.random()+'&session='+truste.eu.session+'&userType='+truste.eu.userType,d)},init:function(a){var c=new Set;[a.prefmgrUrl,a.IRMIntegrationURL,a.cdnURL].forEach(function(d){if(d){try{var e=(new URL(d)).origin}catch(b){truste.util.trace(b)}e&&c.add(e)}});this.originSet=c;return this}}.init(truste.eu.bindMap);
truste.util.httpGet=function(a,c){var d=new (self.XMLHttpRequest||self.XDomainRequest||self.ActiveXObject)('MSXML2.XMLHTTP.3.0');d.onload=function(){200===d.status&&c(d)};d.open('GET',a);d.send(null)};
truste.util.callCMEndpoint=function(a,c,d){var e=truste.eu.bindMap;if(e&&e.prefmgrUrl){var b=e.prefmgrUrl.split('?');a=b[0].replace(/\/$/,'')+a;b=1<b.length?b[1]+'&':'';b+='site='+e.cmId;b+='&behavior='+e.behavior;e.referer&&(b+='&referer='+e.referer);e.fullURL&&(b+='&fullURL='+e.fullURL);e.country&&(b+='&country='+e.country);e.state&&(b+='&state='+e.state);e.feat.isGPCOptoutEvent&&(b+='&is_gpc='+e.feat.gpc,b+='&consent='+e.gpcOptedIn.replaceAll('|',','));e.feat.isDNTOptoutEvent&&(b+='&is_dnt='+e.feat.dnt,
b+='&consent='+e.dntOptedIn.replaceAll('|',','));c&&(b+='&consent='+c.replaceAll('|',','));e.feat.gtm&&(b+='&gtm='+e.feat.gtm);b+='&userType='+truste.eu.userType;b+='&session='+truste.eu.session;truste.util.httpGet(a+b,d)}};
truste.util.hasCategories=function(a){var c=truste.eu.bindMap;if(c&&c.prefmgrUrl){var d=c.prefmgrUrl.split('?'),e=d[0].replace(/\/$/,'');d=1<d.length?d[1]+'&':'';d+='site='+c.cmId;d+='&referer='+c.referer;d+='&locale='+c.locale;d+='&fullURL='+c.fullURL;truste.util.httpGet(e+'/hascategories?'+d,a)}};
truste.util.getSeedUrl=function(a){var c=truste.eu.bindMap;if(c&&c.prefmgrUrl){var d=c.prefmgrUrl.split('?'),e=d[0].replace(/\/$/,'');d=1<d.length?d[1]+'&':'';d+='site='+c.cmId;d+='&referer='+c.referer;d+='&locale='+c.locale;d+='&fullURL='+c.fullURL;truste.util.httpGet(e+'/getSeedUrl?'+d,a)}};
truste.util.fetchCategoryIndexesWithTrackers=function(a,c){var d=truste.eu.bindMap,e=d.iconBaseUrl;if(d&&e){var b=e.split('?');e=b[0].replace(/\/$/,'')+'/v2/consentcategories/getnonemptyindexes?';b=1<b.length?b[1]+'&':'';b+='cmId='+d.cmId;b+='&referer='+d.referer;b+='&fullURL='+d.fullURL;b+='&category='+a.replaceAll('|',',');truste.util.httpGet(e+b,function(f){truste.eu.bindMap.hasCategories=''!=f.responseText;truste.eu.bindMap.categoriesIndexesFromReferer=''==f.responseText?'0':f.responseText;0!=
truste.eu.bindMap.categoriesIndexesFromReferer.split('|')[0]&&(truste.eu.bindMap.categoriesIndexesFromReferer='0|'+truste.eu.bindMap.categoriesIndexesFromReferer);c()})}};
truste.util.createPreferenceFromCookieValue=function(a,c){var d=truste.eu.bindMap;a={source:'preference_manager',message:'submit_preferences',data:{value:a,skipAutoblock:c}};truste.eu.actmessage(a);window.PREF_MGR_API_DEBUG&&window.PREF_MGR_API_DEBUG.authorities.push(window.location.hostname);window.postMessage&&window.postMessage(JSON.stringify(a),'*');c=d.prefmgrUrl.split('?');a=c[0].replace(/\/$/,'');c=1<c.length?c[1]+'&':'';c+='site='+d.cmId;c+='&behavior='+d.behavior;c+='&locale='+d.locale;c+=
'&behavior='+d.behavior;c+='&country='+d.country;c+='&category=0';truste.eu.consentUID&&(c+='&uid='+truste.eu.consentUID);d.referer&&(c+='&referer='+d.referer);c+='&session='+truste.eu.session;c+='&userType='+truste.eu.userType;truste.util.sendMessage(c,a+'/defaultconsentmanager/optin?')};truste.util.consentRequiredlevel=function(a){truste.util.createPreferenceFromCookieValue('0',a)};
truste.util.fireCustomEvent=function(a,c){if(c){var d=new CustomEvent(a,{detail:c}),e=function(){return document.body||document.getElementsByTagName('body')[0]};a=function(){var b=e();b&&b.dispatchEvent(d)};e()?a():truste.util.waitForElem(e,a,100,2E4)}};truste.util.cookieConsentValue=function(a){a=a.split('|');var c=truste.eu.bindMap.categoriesIndexesFromReferer.split('|');c=c.filter(function(d){return a.includes(d)});return Array.from(c).join('|')};
truste.util.createHighestLevelCookie=function(){var a=truste.eu.bindMap.categoriesIndexesFromReferer;if(a)return a;a=truste.eu.bindMap;for(var c=[],d=0;d<a.categoryCount;d++)c.push(d);return c.join('|')};truste.util.isGpcFlow=function(){return truste.eu.bindMap.feat.gpcOvr?'true'!=truste.util.readCookie(truste.eu.COOKIE_GPC_ISHONORED,!0):!truste.eu.bindMap.prefCookie};truste.util.isGPC=function(){var a=truste.eu.bindMap,c=!1;a.feat.gpc&&a.feat.gtm&&truste.util.isGpcFlow()&&(c=!0);return c};
truste.util.isDNT=function(){return truste.eu.bindMap.feat.dnt&&truste.eu.bindMap.feat.gtm&&!truste.eu.bindMap.prefCookie};truste.util.isAutoblock=function(){return!!(truste.eu.bindMap.feat.autoblock&&'undefined'!=typeof trustarc&&trustarc.ccm&&trustarc.ccm.cab)};truste.util.autoblockConsent=function(a){'function'==typeof trustarc.ccm.cab.submitConsent&&('loading'===truste.util.readyState()?self.addEventListener('DOMContentLoaded',function(c){trustarc.ccm.cab.submitConsent(a)}):trustarc.ccm.cab.submitConsent(a))};
truste.util.getRandomUUID=function(){var a=window.crypto||window.msCrypto;return'10000000-1000-4000-8000-100000000000'.replace(/[018]/g,function(c){return(c^a.getRandomValues(new Uint8Array(1))[0]&15>>c/4).toString(16)})};
truste.util.setSession=function(){var a=truste.util.readCookie(truste.eu.COOKIE_SESSION);if(null==a){a=truste.util.readCookie(truste.eu.COOKIE_GDPR_PREF_NAME)?'EXISTING':'NEW';a=truste.util.getRandomUUID()+'|'+a;var c=new Date;c.setTime(c.getTime()+18E5);truste.util.createCookie(truste.eu.COOKIE_SESSION,a,c.toGMTString(),!1)}a=a.split('|');truste.eu.session=a[0];truste.eu.userType=a[1]};self.addEventListener('message',truste.eu.msg.msgListener);
truste.util.samesite=function(a){function c(e){return(e=RegExp('Chrom(e|ium)','ig').exec(e))&&e.length?!0:!1}function d(e,b){return(b=RegExp('Chrom[^ /]+[/](\\d+)[.\\d]* ','ig').exec(b))&&2===b.length?+b[1]>=e:!1}return!function(e){var b=RegExp('[(]iP.+; CPU .*OS (\\d+)[_\\d]*.*[)] AppleWebKit[/]','ig').exec(e);if(!(b=b&&2===b.length?12===+b[1]:!1)){if((b=RegExp('[(]Macintosh;.*Mac OS X (\\d+)_(\\d+)[_\\d]*.*[)] AppleWebKit[/]','ig').exec(e))&&3===b.length){var f=+b[2];b=10===+b[1]&&14===f}else b=
!1;b&&(b=RegExp('Version[/].* Safari[/]','ig').exec(e),(b=b&&b.length?!c(e):!1)||(b=(b=RegExp('^Mozilla[/][.\\d]+ [(]Macintosh;.*Mac OS X [_\\d]+[)] AppleWebKit[/][.\\d]+ [(]KHTML, like Gecko[)]$','ig').exec(e))&&b.length?!0:!1))}b||((b=RegExp('UCBrowser[/]','ig').exec(e))&&b.length?((e=RegExp('UCBrowser[/](\\d+)[.](\\d+)[.](\\d+)[.\\d]* ','ig').exec(e))&&4===e.length?(b=+e[1],f=+e[2],e=12!=b?12<b:13!=f?13<f:2<=+e[3]):e=!1,e=!e):e=c(e)&&d(51,e)&&!d(67,e),b=e);return b}(a)};
truste.util.deferCallUntil=function(a,c,d,e){var b=function(){f&&c()&&(clearInterval(f),a())};b();var f=setInterval(function(){b()},d||50);setTimeout(function(){clearInterval(f)},e||1E4)};truste.util.waitForElem=function(a,c,d,e){if('undefined'!==typeof MutationObserver){var b=new MutationObserver(function(f){a()&&(b.disconnect(),c())});b.observe(document,{attributes:!1,childList:!0,characterData:!1,subtree:!0});setTimeout(function(){b.disconnect()},e)}else truste.util.deferCallUntil(c,a,d,e)};
(function(){truste.util.setSession();var a=truste.eu.bindMap;truste.eu.msg.log('impression',a,a.logMsgUrl)})();truste.eu._listeners=[];truste.eu.cancelCmTimeout=null;truste.eu.cmLoading=!1;truste.eu.addEventListener=function(a,c){if(a&&'function'==typeof a){for(var d=-1,e=0,b=truste.eu._listeners.length;e<b;e++)if(truste.eu._listeners[e]===a){d=e;break}d+1&&c?truste.eu._listeners.splice(d,1):d+1||truste.eu._listeners.push(a)}};
truste.eu._dispatchEvent=function(a,c){for(var d=truste.eu._listeners.length;0<d--;)try{truste.eu._listeners[d](a,c)}catch(e){}};
truste.eu.actmessage=function(a){var c=truste.eu.bindMap;if(a)if('preference_manager'==a.source)switch(a.message){case 'submit_preferences':var d='object'==typeof a.data?a.data.value:a.data;if(d&&truste.util.validConsent(d)){c.prefCookie=d;truste.util.trace('changing preference to: '+c.prefCookie);c.feat.gpcdntflag?c.feat.gpcdntflag=0:(c.feat.isGPCOptoutEvent=!1,c.feat.isDNTOptoutEvent=!1);c.feat.isGPCOptoutEvent&&truste.util.createCookie(truste.eu.COOKIE_GPC_ISHONORED,!0,null,!0);d=truste.util.getLowestConsent(c.prefCookie)+
':'+c.daxSignature;truste.util.createCookie(truste.eu.COOKIE_PREF_NAME,d,a.data.expires,!0);d=c.prefCookie+':'+c.daxSignature;c.feat.consentResolution&&(d=d+':'+c.behavior+'|'+c.behaviorManager);truste.util.createCookie(truste.eu.COOKIE_GDPR_PREF_NAME,d,a.data.expires,!0);truste.eu.consentUID&&truste.util.validConsent(c.prefCookie)&&truste.util.createCookie(truste.eu.COOKIE_UID,truste.eu.consentUID,a.data.expires,!0);d={consent:d,expiry:c.cookieExpiry};c.flags.dropPopCookie&&(c.flags.isReconsentEvent=
!1,truste.util.createCookie(truste.eu.COOKIE_REPOP,c.popTime,null,!0),c.feat.crossDomain&&(d.popTime=c.popTime));c.feat.crossDomain&&truste.eu.postMessageToFrame('setPreference',d,'trustarcNoticeFrame');if(truste.util.isAutoblock()&&!a.data.skipAutoblock)if(a=truste.util.createHighestLevelCookie(),c.prefCookie.includes(a))truste.util.autoblockConsent();else{a=!1;try{var e=localStorage.optout_domains;if(e){var b=JSON.parse(e);'object'==typeof b&&Object.keys(b).length&&(truste.util.autoblockConsent(b),
a=!0)}}catch(g){truste.util.trace(g.message,g.stack)}a||truste.util.autoblockConsent()}truste.util.fireCustomEvent('truste-consent',c.prefCookie);c.flags.isRepopEvent=!1;truste.eu.sendclosereport=!1;(a=truste.eu.caIcon)&&a.setAttribute('consent',c.prefCookie)}break;case 'cm_loading':truste.eu.cmLoading=!0;break;case 'enable_ac':truste.eu.bindMap.feat.accessibility=!0;break;case 'change_panel':case 'change_panel_no_scroll':'string'==typeof a.data&&(e=a.data.split('x'),b=parseInt(e[0]),isNaN(b)||(c.height=
b,null!=truste.eu.cancelCmTimeout&&0<parseInt(c.height)&&(clearTimeout(truste.eu.cancelCmTimeout),truste.eu.cancelCmTimeout=null),3<e.length?truste.eu.resizeFrame(c.width,c.height,null,e[3]):truste.eu.resizeFrame(c.width,c.height),'change_panel'===a.message&&(self.scrollTo(0,0),(c=self.document.getElementById(truste.eu.popdiv2))&&(c.scrollTop=0))));break;case 'remove_iframe':'true'!=a.data||truste.eu.prefclose()||setTimeout(truste.eu.prefclose,500);break;case 'toggle_close_button':truste.eu.toggleCloseButton(c,
a.data);break;case 'send_tracker_list':a.data instanceof Object&&truste.util.setStorage(truste.eu.COOKIE_CATEGORY_NAME,a.data,!1);break;case 'get_tracker_list':c={value:truste.util.getStorage(truste.eu.COOKIE_CATEGORY_NAME)||{}};truste.eu.postMessageToFrame('optout_domains_status',{data:c});break;case 'show_cm':truste.eu.showCM(a.data);break;case 'request_popup_message':truste.eu.postMessageToFrame('popup_message',{data:truste.eu.bindMap.popupMsg});break;case 'two_step_yes':truste.util.trace('Two Step Opt-in Confirmed.');
truste.bn.twoStepConfirmed&&truste.bn.twoStepConfirmed();break;case 'two_step_no':truste.bn.twoStepDeclined&&truste.bn.twoStepDeclined();break;case 'truste-click-toggle-event':truste.util.fireCustomEvent(a.data,{});break;case 'truste-click-button-submit':truste.util.fireCustomEvent(a.data,{})}else if('cross_domain_frame'==a.source&&'cookie_data'==a.message&&!c.flags.isConsentRetrieved){if(e=a.data){b=e.value;d=(new Date(e.expires)).toUTCString();if(b){var f=b.split(':');c.prefCookie=f[0];c.daxCookie=
f[1];truste.util.createCookie(truste.eu.COOKIE_GDPR_PREF_NAME,b,d,!0);truste.util.createCookie(truste.eu.COOKIE_PREF_NAME,truste.util.getLowestConsent(c.prefCookie)+':'+c.daxSignature,d,!0)}e.popTime&&truste.util.createCookie(truste.eu.COOKIE_REPOP,e.popTime,d,!0);null!=a.data.cmapiBl&&truste.util.createCookie(truste.eu.CMAPI_BL,a.data.cmapiBl,d);null!=a.data.cmapiPrivacy&&truste.util.createCookie(truste.eu.CMAPI_PRIVACY,a.data.cmapiPrivacy,d)}c.flags.isConsentRetrieved=!0;finishLoad()}};
truste.eu.postMessageToFrame=function(a,c,d){d=self.document.getElementById(d||truste.eu.popframe);c.source='notice_js';c.message=a;d&&d.contentWindow.postMessage&&d.contentWindow.postMessage(JSON.stringify(c),'*')};
truste.eu.addCloseButton=function(a){if(a instanceof Object&&!a.flags.isRepopEvent&&(truste.util.validConsent(a.prefCookie)||'implied'==a.behavior)&&0==a.wcag2){a.closebtnid='closebtn-id'+Math.random();var c=self.document.getElementById(truste.eu.popdiv3),d=self.document.createElement('div');d.id=a.closebtnid;d.style.cursor='pointer';d.tabIndex=1;d.setAttribute('aria-label','close button');d.setAttribute('role','button');d.className='truste-close-button';var e=self.document.createElement('style');
e.setAttribute('type','text/css');e.innerText='.truste-close-button:focus { outline: #80B4FD solid 2px !important; }';document.head.insertBefore(e,document.head.firstChild);truste.eu.popclose=('pop-close'+Math.random()).replace('.','');var b=a.closeButtonUrl||a.assetServerUrl+'ic-close.svg';e=document.createElement('img');e.id=truste.eu.popclose;e.setAttribute('alt','close button');e.src=b;e.style.border='0';b=document.createElement('a');b.addEventListener('click',truste.eu.prefclose);b.appendChild(e);
d.appendChild(b);for(var f in a.styles.closebtn)d.style[f]=a.styles.closebtn[f];d.addEventListener('keydown',function(g){g||(g=window.event);var k=g.which||g.keyCode;if(9==k&&!g.shiftKey)g.preventDefault?g.preventDefault():g.returnValue=!1,c&&c.focus();else if(13==k||32==k)g.preventDefault?g.preventDefault():g.returnValue=!1,(d.firstElementChild||d.children[0]).click()});c&&(c.addEventListener('keydown',function(g){g||(g=window.event);9==(g.which||g.keyCode)&&g.shiftKey&&(g.preventDefault?g.preventDefault():
g.returnValue=!1,(d.firstElementChild||d.children[0]).focus())},!1),c.appendChild(d));truste.util.trace('Adding the close button')}};
truste.eu.clickListener=function(a,c){var d=truste.eu.bindMap;if(!(d instanceof Object))return truste.eu.error('click listener was called but bindings are unavailable');var e=truste.util.getIntValue(d.prefCookie),b='notice';switch(truste.util.getIntValue(a)){case 1:b='prefmgr';break;case 2:b='advanced';break;case 3:b='required';break;case 4:b='show2ndOptinStep';break;default:null!=e&&0<=e&&(b='prefmgr')}truste.eu.prefview(d,b);c||truste.eu._dispatchEvent('click');return b};
truste.eu.toggleCloseButton=function(a,c){a&&a.closebtnid&&(a=self.document.getElementById(a.closebtnid))&&(a.style.visibility=null!=c&&'true'==c?'visible':'hidden')};
truste.eu.resizeFrame=function(a,c,d,e){truste.util.trace('resizing the iframe to:',a,c,d,e);a=self.document.getElementById(truste.eu.popdiv2);d=parseInt(d);c=parseInt(c);!isNaN(d)&&a&&a.style&&(a.style.marginLeft=d+'px');!isNaN(e)&&(d=document.getElementById(truste.eu.bindMap.closebtnid))&&(d.style.top=16+parseInt(e)+'px',d.style.padding='2px');c&&a&&a.style&&(a.style.height=c+'px',(a=self.document.getElementById(truste.eu.popframe))&&a.style&&(a.style.height=c+'px'),(a=self.document.getElementById(truste.eu.popdiv3))&&
a.style&&(a.style.height=c+'px'));truste.eu.bindMap.wcag2&&(e=self.document.getElementById(truste.eu.popdiv3),c&&e&&e.style&&(e.style.backgroundColor='transparent'))};
truste.eu.resizeFrameWcag2=function(a,c){truste.util.trace('resizing the WCAG2 iframe to:',a,c);c=parseInt(c);a=window.innerHeight-100;c>a&&(c=a,truste.util.trace('resizing the WCAG2 iframe, new height:',c));a=self.document.getElementById(truste.eu.popdiv2);c&&a&&a.style&&(a.style.height=c+'px',(a=self.document.getElementById(truste.eu.popframe))&&a.style&&(a.style.maxHeight=c+'px'),(a=self.document.getElementById(truste.eu.popdiv3))&&a.style&&(a.style.maxHeight=c+'px'));a=self.document.getElementById(truste.eu.popdiv3);
c&&a&&a.style&&(a.style.backgroundColor='transparent')};truste.eu.autoOptout=function(a,c){a||(a=truste.util.createHighestLevelCookie());truste.util.createPreferenceFromCookieValue(a,c);truste.util.callCMEndpoint('/defaultconsentmanager/getOptOutDomains?',a,function(d){d=d.responseText;null!==d&&JSON.parse(d)&&truste.util.setStorage(truste.eu.COOKIE_CATEGORY_NAME,JSON.stringify(d),!1)})};
truste.eu.prefclose=function(){try{var a=self.document.getElementById(truste.eu.popdiv),c=self.document.getElementById(truste.eu.popdiv2);if(a&&c){a.parentNode.removeChild(a);c.parentNode.removeChild(c);var d=self.document.getElementById(truste.eu.outerdiv);d&&d.parentNode.removeChild(d);try{var e=self.document.getElementsByTagName('object');for(a=0;a<e.length;++a){var b=e[a];b&&(b.className=b.className.replace(/\btruste_hidden\b/g,''))}}catch(g){truste.util.trace('error removing truste_hidden from class names',
g)}truste.util.trace('closing the CM');if(truste.eu.bindMap.feat.accessibility){var f=self.document.getElementById('truste-show-consent');null!=f&&f.focus();truste.eu.prefButton.focus()}truste.eu._dispatchEvent('close');return!0}}catch(g){truste.util.trace('error in prefclose',g)}return!1};truste.eu.runOnReady=function(a){document.body?a():window.addEventListener('load',a)};
truste.eu.prefview=function(a,c){function d(r){var q=self.document.getElementById(truste.eu.popdiv2),t=self.document.getElementById(truste.eu.popframe);null!=q&&null!=t&&(truste.eu.bindMap.wcag2?(q.style.maxWidth='992px',q.style.height='100%'):r.matches?(q.style.maxWidth='100%',q.style.margin='0px',q.style.padding='0px',t.style.height='100vh'):(q.style.maxWidth='650px',q.style.height='650px',q.style.margin='20px auto',q.style.padding='10px'))}if(!c||!a)return truste.eu.clickListener(null);if(!self.document.getElementById(truste.eu.popdiv)){truste.util.trace('opening the CM');
truste.eu.popdiv=('pop-div'+Math.random()).replace('.','');truste.eu.popdiv2=('pop-div2'+Math.random()).replace('.','');truste.eu.popdiv3=('pop-div3'+Math.random()).replace('.','');truste.eu.popframe=('pop-frame'+Math.random()).replace('.','');truste.eu.outerdiv=('pop-outerdiv'+Math.random()).replace('.','');truste.eu.sendclosereport=!0;var e=a.prefmgrUrl&&/truste|trustarc/.test(a.prefmgrUrl)?a.prefmgrUrl:'https://consent-pref.trustarc.com/',b=0<e.indexOf('?')?'&site=':'?site=';e+=b+(a.cmId||self.location.hostname)+
'&country='+a.country+'&behavior='+a.behavior;a.locale&&(e+='&locale='+a.locale);null!=a.prefCookie&&(e+='&preferences='+encodeURI(a.prefCookie));truste.eu.consentUID&&(e+='&uid='+truste.eu.consentUID);truste.eu.bindMap.debug&&(e+='&debug=true');a.flags.isReconsentEvent&&(e+='&repop=true');a.state&&(e+='&state='+a.state);'required'===c?e+='&action=required':'show2ndOptinStep'===c&&(e+='&action=show2ndOptinStep');e+='&from='+a.iconBaseUrl;a.referer&&(e+='&referer='+a.referer);a.fullURL&&(e+='&fullURL='+
a.fullURL);a.feat.gtm&&(e+='&gtm='+a.feat.gtm);e+='&session='+truste.eu.session;e+='&userType='+truste.eu.userType;truste.eu.privacyPolicyLinkParam&&(e+='&'+truste.eu.PRIVACY_POLICY_LINK_PARAM_KEY+'='+truste.eu.privacyPolicyLinkParam);truste.eu.privacyPolicyLinkTextParam&&(e+='&'+truste.eu.PRIVACY_POLICY_LINK_TEXT_PARAM_KEY+'='+truste.eu.privacyPolicyLinkTextParam);truste.eu.cookieLinkParam&&(e+='&'+truste.eu.COOKIE_LINK_PARAM_KEY+'='+truste.eu.cookieLinkParam);truste.eu.cookieLinkTextParam&&(e+=
'&'+truste.eu.COOKIE_LINK_TEXT_PARAM_KEY+'='+truste.eu.cookieLinkTextParam);c=2*truste.eu.findHighestZIndex('div');var f=self.document.createElement('div');f.setAttribute('id',truste.eu.popdiv);f.className='truste_overlay';f.style.zIndex=Math.min(2147483646,c+1E6);if(a.styles.overlay)for(var g in a.styles.overlay)f.style[g]=a.styles.overlay[g];c=Math.min(2147483647,c+2E6);if(a.outerdiv){var k=self.document.createElement('div');k.id=truste.eu.outerdiv;k.className='truste_cm_outerdiv';k.style.zIndex=
c;if(a.styles.outerdiv)for(g in a.styles.outerdiv)k.style[g]=a.styles.outerdiv[g]}var l=self.document.createElement('div');l.setAttribute('id',truste.eu.popdiv2);l.className='truste_box_overlay';l.style.position='absolute';l.style.zIndex=c;if(a.styles.box_overlay)for(g in a.styles.box_overlay)l.style[g]=a.styles.box_overlay[g];var h=window.matchMedia('(max-width: 480px)');h.addListener(d);d(h);var m=self.document.createElement('div');m.setAttribute('id',truste.eu.popdiv3);m.className='truste_box_overlay_inner';
m.style.position='relative';m.style.width='100%';m.style.height='100%';m.tabIndex='1';m.setAttribute('role','dialog');m.setAttribute('aria-label','cookie consent notice');m.setAttribute('aria-modal','true');m.style.outline='none';m.style.boxShadow='0 2px 10px 0 rgba(0, 0, 0, 0.5)';var n=self.document.createElement('img');n.src=a.assetServerUrl+'transparent.png';n.setAttribute('alt','');n.style.display='block';n.style.width='100%';n.style.height='100%';var p=self.document.createElement('iframe');p.src=
e;p.id=truste.eu.popframe;p.title='Cookie Consent Notice';p.tabIndex='1';p.scrolling='no';if(a.styles.inner_iframe)for(g in a.styles.inner_iframe)p.style[g]=a.styles.inner_iframe[g];truste.eu.bindMap.wcag2&&(l.style.margin='auto',l.style.padding='0px',l.style.width='calc(100% - 30px)',m.style.boxShadow='none',n.style.display='none',p.style.background='transparent',m.style.backgroundColor='#FFFFFF');p.onload=function(r){(p.parentElement||p.parentNode[0]).focus();setTimeout(function(){truste.eu.cmLoading||
(null!=truste.eu.cancelCmTimeout&&(clearTimeout(truste.eu.cancelCmTimeout),truste.eu.cancelCmTimeout=null),truste.eu.sendclosereport=!1,truste.eu.prefclose(),truste.util.isAutoblock()&&'function'==typeof trustarc.ccm.cab.unblockAll&&trustarc.ccm.cab.unblockAll())},truste.eu.bindMap.cmTimeout)};truste.eu.iframe=p;truste.eu.runOnReady(function(){self.document.body.appendChild(f);k?(self.document.body.appendChild(k),k.appendChild(l)):self.document.body.appendChild(l);l.appendChild(m);m.appendChild(n);
m.appendChild(p);try{for(var r=self.document.getElementsByTagName('object'),q=r.length;0<q--;){var t=r[q];t&&(t.className+=' truste_hidden')}}catch(u){}truste.eu.addCloseButton(a);self.document.addEventListener('focus',function(u){var v=self.document.getElementById(truste.eu.popdiv3);v&&!v.contains(u.target)&&(u.stopPropagation(),v.focus())});self.scrollTo(0,0);truste.eu._dispatchEvent('open');d(h);truste.eu.cancelCmTimeout=setTimeout(function(){truste.eu.sendclosereport=!1;truste.eu.prefclose();
truste.eu.cancelCmTimeout=null},3E4)})}};truste.eu.findHighestZIndex=function(a){a=self.document.getElementsByTagName(a||'*');for(var c=0,d,e=0;e<a.length;e++)if(self.getComputedStyle||a[e].style.position&&'static'!=a[e].style.position)d=parseInt(truste.util.getStyle(a[e],'z-index')),d>c&&(c=d);return c};
truste.eu.showCM=function(a){try{var c=self.document.getElementById(truste.eu.popdiv),d=self.document.getElementById(truste.eu.popdiv2);a='false'==a?'hidden':a?'block':'hidden';if(c&&d)return c.style.visibility=a,d.style.visibility=a,!0}catch(e){truste.util.trace('Error showing CM',e)}return!1};truste.eu.icon={};
truste.eu.icon.make=function(a){if(!truste.eu.prefButton){var c=truste.eu.bindMap,d=truste.eu.prefButton=self.document.createElement('a');d.addEventListener('click',a);d.id=truste.eu.iconid=('icon-id'+Math.random()).replace('.','');d.tabIndex='0';d.setAttribute('aria-label',c.icon);d.setAttribute('lang',c.language);d.addEventListener('keydown',function(e){e||(e=window.event);var b=e.which||e.keyCode;if(13==b||32==b)e.preventDefault?e.preventDefault():e.returnValue=!1,d.click()});d.style.cursor='pointer';
d.innerHTML=c.icon}};truste.eu.icon.show=function(){var a=truste.eu.prefButton,c=truste.eu.caIcon;c?(c.appendChild(a),c.setAttribute('consent',truste.eu.bindMap.prefCookie)):truste.eu.jsNode1&&truste.eu.jsNode1.parentNode.insertBefore(a,truste.eu.jsNode1)};
truste.eu.icon.initialize=function(){try{var a=self.document.createElement('style');a.type='text/css';(a.sheet||{}).insertRule?a.sheet.insertRule('truste_hidden{visibility:hidden;}',0):(a.styleSheet||a.sheet).addRule('truste_hidden','visibility:hidden;');self.document.getElementsByTagName('head')[0].appendChild(a)}catch(e){}var c=truste.eu.bindMap;a=truste.util.readCookie(truste.eu.COOKIE_GDPR_PREF_NAME,!0);truste.util.readCookie(truste.eu.CMAPI_PRIVACY,!0);truste.util.readCookie(truste.eu.COOKIE_PREF_NAME,
!0);a&&(a=a.split(':'),c.prefCookie=a[0],c.daxCookie=a[1]);c.feat.crossDomain&&truste.eu.postMessageToFrame('getPreference',{},'trustarcNoticeFrame');truste.eu.caIcon=self.document.getElementById(c.containerId)||self.document.getElementById('teconsent');a=c.containerId==decodeURI('%5F%4C%42c%4C%42%5F')?null:c.containerId;if(truste.eu.caIcon||!a&&truste.eu.jsNode1&&'HEAD'!=truste.eu.jsNode1.parentNode.nodeName&&(truste.eu.caIcon=truste.eu.jsNode1.parentNode))truste.eu.icon.show();else if(a)var d=setInterval(function(){truste.eu.caIcon=
truste.eu.caIcon||self.document.getElementById(c.containerId)||self.document.getElementById('teconsent');truste.eu.caIcon&&(clearInterval(d),truste.eu.icon.show())},100)};
function module_cmapi_core(a){var c={},d=d||window,e={binfo:a||{}};this!=d&&(this.inner=e);e.fake={capabilities:['getConsent'],default_consent:'denied',default_source:'implied',reportlevel:5,consent:{all:{value:null,type:{}}},domain:e.binfo.cmId||d.location.hostname};e.requestors={loading:[]};e.authorities=['.truste.com','.trustarc.com','.truste-svc.net','.trustarc.eu','.'+e.fake.cmId];e.blacklist=['.example-xxx.com'];e.valid_values={consent:{denied:1,approved:2},source:{implied:1,asserted:2},type:{session:1048561,
necessary:65523,limited:65527,host:65311,shared:65343,present:65407,systemic:61951,functional:62463,unique:63487,uuid:65535,user:8191,site:16383,party:32767,'private':16241,security:16147,preferences:30579,behavioral:13119,tracking:62335,analytic:30583,advertising:63487,requested:8055,required:16179,functionality:29555,targeting:65535}};e.caddy=null;e.isCapable=function(b){for(var f=this.fake.capabilities.length;0<f--;)if(this.fake.capabilities[f]==b)return f+1;return 0};e.endsWith=function(b,f){return null!=
f&&f.replace?(new RegExp('.*'+f.replace(/\./g,'\\.')+'$')).test(b):!1};e._hasLoadedPrefs=!1;e.loadOldPrefs=function(b){var f=this.getStorage('PrivacyManagerAPI.preferences',null,13);if(f){this.tconsole.log('Applying old preferences: ',f);for(var g in f)b.consent[g]=f[g]||b.consent[g]}this._hasLoadedPrefs=!0;f=0;for(var k=this.requestors.loading&&this.requestors.loading.length||0;f<k;){var l=this.requestors.loading[f++];if(b=this.processMessage(l.apiOb,l)){for(g in b)l.apiOb[g]=b[g];delete l.apiOb.loading;
this.sendPost(l,{PrivacyManagerAPI:l.apiOb})}}};e.getAuthorityLevel=function(b,f,g,k){if(!k)return 0;var l=this.isAnAuthority(k);if(l)return l;l='.'+(d.location.hostname||'localhost');f=f||l;for(var h=this.blacklist.length;0<h--;)if(this.endsWith(f,this.blacklist[h]))return 0;if(this.endsWith(b,g)||this.endsWith(g,b))return-5;if(this.endsWith(b,f)||this.endsWith(f,b))return-1;k.charAt&&(k=k.split(/\s*[\s,]\s*/));h=0;for(var m=k.length;0<m--;)this.endsWith(f,k[m])?h=Math.min(-4,h):this.endsWith(b,
k[m])?h=Math.min(-3,h):this.endsWith(l,k[m])&&(h=Math.min(-2,h));if(h)return h;this.sendEvent('uka',k,0,g,null,b,f);return 0};e.isAnAuthority=function(b){if(!b)return 0;b.charAt&&(b=b.split(/\s*[\s,]\s*/));if(1==b.length&&(b=b[0].replace(/^\.?/,'.')))for(var f=this.authorities.length;0<f--;){if(this.endsWith(b,this.authorities[f]))return f+1}else{var g;for(f=b.length;0<f--;)if(g=this.isAnAuthority(b[f]))return g}return 0};e.sendUpdatesTo=function(b,f,g){this.caddy={hold:!0};var k,l={PrivacyManagerAPI:{timestamp:g,
capabilities:this.fake.capabilities}},h=l.PrivacyManagerAPI,m;for(m in b)if(g=b[m])for(var n=g.length;0<n--;)if((k=g[n])&&k.w)if(k.getConsent){var p=this.apiDo('getConsent',this.authorities[0],k.d,this.authorities[0],k.t);if(k.s!=p.source||k.c!=p.consent)h.consent=k.c=p.consent,h.source=k.s=p.source,h.self=k.a,h.cmId=k.d,h.action='getConsent',this.sendPost(k.w,l)}else k.getConsentDecision&&f&&(h.consent=h.source=null,h.self=k.a,h.action='getConsentDecision',this.sendPost(k.w,l));this.caddy=null};
e.getBType=function(b){var f=0;if(b){b.charAt?b=b.split(/\W+/):0<b&&(b=[b]);f=65535;for(var g=b.length;0<g--;){var k=parseInt(b[g]);if(isNaN(k))if(this.valid_values.type[b[g]])f&=this.valid_values.type[b[g]];else throw Error('invalid type');else f&=k}}return f};e.getTypePermission=function(b,f,g,k){if(!f||isNaN(f)||f.length)f=this.getBType(f);if(k&&'undefined'!==typeof b[k]){if(!isNaN(g.consentDecision)&&g.consentDecisions.split(/[,|]/).length!=parseInt(g.consentDecision))return b[k]}else{var l=this.getStorage(truste.eu.COOKIE_CATEGORY_NAME,
null,13,!0),h;for(h in l){var m=parseInt(l[h].value)+1+'';if(k===h||k==m)return g.consentDecisions.split(/[,|]/).includes(m)?'approved':'denied'}}g=f<<1&65535|4369;k=[];if(0!=f)for(var n in b)b[n]&&this.valid_values.consent[b[n]]&&(k.temp=this.getBType(n),(k.temp|f)==k.temp&&'approved'==b[n]||(k.temp|g)!=k.temp&&'denied'==b[n])&&(k[b[n]]||k.push(b[n]),k[b[n]]=n);return k.denied?'denied':k.join(',')};e.updatePreferences=function(b,f,g,k){if(!b)return!1;'.'!=b.charAt(0)&&(b='.'+b);if(f||g){var l=this.getConsentForDomain(b,
k)||{type:{}};this.valid_values.consent[f]&&(l.value=f);if(g)for(var h in g)if(this.valid_values.consent[g[h]])isNaN(h)?this.valid_values.type[h]&&(l.type[h]=g[h]):l.type[h]=g[h];else if(null===g[h]||'null'===g[h])l.type[h]=null,delete l.type[h];this.tconsole.log('updating preference for domain: '+b+' to:',l);k.consent[b]=l}else if(null===f||'null'===f)this.tconsole.log('Deleting consent preference for: '+b),k.consent[b]=null,delete k.consent[b];else return!1;this.getStorage('PrivacyManagerAPI.preferences',
k.consent,13);return!0};e.apiDo=function(b,f){if(!b||!f||!this.isCapable(b))return{error:'Call is missing required parameters or not allowed'};this.tconsole.log('Doing API Call',Array.apply(null,arguments));switch(b){case 'getConsent':var g=(arguments[2]||d.location.hostname).replace(/^\.?/,'.'),k=this.getAuthorityLevel(g,(this.caddy||{}).from,f,arguments[3]);if('all'==g)return{error:'Call to this domain is not authorized'};var l=0,h=arguments[4],m=this.getStorage(truste.eu.COOKIE_CATEGORY_NAME,null,
13,!0),n={required:'0',functional:'1',advertising:'2'};try{for(var p in m)if(m[p].value&&n[h]&&m[p].value==n[h]){h=p;break}l=this.getBType(h)}catch(r){if(isNaN(h)&&!m[h])return{error:'Invalid Type parameter'}}m=this.getConsentForDomain(g,this.fake);n=this.getTypePermission(this.fake.consent.all.type,l,this.fake,h);m&&(n=this.getTypePermission(m.type,l,this.fake,h)||n||m.value);l=(n=n||this.fake.consent.all.value)?{source:'asserted',consent:n}:{source:this.fake.default_source,consent:this.fake.default_consent};
this.tconsole.log('Did getConsent API call for: '+g+' from: '+(this.caddy||{}).from+', got result: ',l);0<k&&(l.origin=d.location.hostname);return l;default:return this.secondaryAction(b,f,arguments[2],arguments[3])}};e.processMessage=function(b,f){var g;if(!b||!f||!(g=f.origin||f.cmId)||'null'==g)return this.tconsole.error('got invalid postmessage call from '+g,b),{error:'Call is malformed and missing information'};this.tconsole.log('processing message from '+g,b);f={origin:f.origin,domain:f.cmId,
source:f.source};g='.'+g.toLocaleLowerCase().replace(/^(https?:)?\/\/([^\/]*@)?/,'').replace(/[\/:].*/,'');switch(b.action){case 'getConsent':var k=b.self,l=b.authority,h=b.cmId;b=b.type||void 0;k&&k.replace(/^\.?/,'.');h&&h.replace(/^\.?/,'.');if(!k)return{error:"All callers must identify themselves via their domain id. Add property 'self' on the post message object."};if(h&&!this.endsWith(h,g)){if(!l)return{error:"Call 'authority' parameter is missing. All requests for preferences of domains not your own require an authority parameter. An 'authority' is whatever entity has approved or requested you to make this call. Examples include the domain you are inquiring about, the web site you are hosted on, or a third party privacy provider like TRUSTe."};
if(!this.getAuthorityLevel(h,g,k,l))return{error:'Call is not authorized. The call you made requires a valid authority'}}else h||(h=g);this.caddy={from:g};g=this.apiDo('getConsent',k,h,l,b);this.caddy=null;g&&!g.error&&(this.requestors[h]=this.requestors[h]||[],this.requestors[h].push({w:f,getConsent:1,t:b,a:k,d:h,s:g.source,c:g.consent}),g.cmId=h,g.self=k,g.capabilities=this.fake.capabilities);return g;case 'updatePreference':if(0<this.isAnAuthority(g)){if(!b.cmId)return{error:"Required parameter 'domain' not sent"};
f=b.cmId.replace(/^\.?/,'.');if(!this.updatePreferences(f,b.value,b.type,this.fake))return{error:"Invalid value for required parameter 'value' sent"};k=this.requestors;'all'!=f&&(k={},k[f]=this.requestors[f]);this.sendUpdatesTo(k,!1,b.timestamp);return null}return{error:'Call is not from an authorized Location'};default:return this.secondaryMessageProcessing(b,f,g)}};e.loadConsentDecision=function(b){if(null==b.consentDecisions){var f=truste.util.readCookie(truste.eu.COOKIE_GDPR_PREF_NAME,!0);f instanceof
Object&&(f=f.value);null!=f&&''!=f&&(b.consentDecisions=f.split(/[,|]/).map(function(m){return parseInt(m)+1}).filter(function(m){return!isNaN(m)}).join())}b.consentDecision=truste.util.getLowestConsent(b.consentDecisions);null==b.consentDecision&&(f=truste.util.readCookie(truste.eu.COOKIE_PREF_NAME,!0),f instanceof Object&&(f=f.value),f=parseInt(f),isNaN(f)||(b.consentDecision=f+1));f=b.consentDecision;if(null!=f){var g=truste.util.getStorage(truste.eu.COOKIE_CATEGORY_NAME)||{},k=!0;if(b.consentDecisions)for(var l in g)if(g.hasOwnProperty(l)){var h=
g[l];h.domains&&(k=k&&-1<b.consentDecisions.indexOf(parseInt(h.value)+1))}b.consent.all.value=0==f||k?'approved':'denied'}this.adjustTypeValues(b);this.binfo&&this.binfo.gtm&&this.updateGTM&&this.updateGTM(b)};e.adjustTypeValues=function(b){delete b.consent.all.type.functional;delete b.consent.all.type.advertising;if(b.consentDecisions){b.consent.all.type.functional='denied';b.consent.all.type.advertising='denied';var f=b.consentDecisions.split(/[,|]/);f.includes('2')&&(b.consent.all.type.functional=
'approved');f.includes('3')&&(b.consent.all.type.advertising='approved')}else f=b.consentDecision,1==f?(b.consent.all.type.functional='denied',b.consent.all.type.advertising='denied'):2==f&&(b.consent.all.type.functional='approved',b.consent.all.type.advertising='denied')};c.callApi=function(){try{return e.caddy=null,e.apiDo.apply(e,arguments)}catch(b){try{e.sendError&&e.sendError(arguments[0],arguments[3],arguments[1],{domain:arguments[2],type:arguments[4]},b)}catch(f){}e.tconsole.log(b.stack);e.caddy=
null;return{error:'Unknown Error occurred'}}};e.getConsentFromDomainlist=function(b,f,g){if(!g)return null;var k=null,l,h=f.consentDecisions;f=!h&&f.consentDecision;for(var m in g)if(f){if(g[m].domains&&(l=g[m].domains[b]||g[m].domains[b.substring(1)])){k={value:null,type:{}};g[m].value<f&&(k.value='approved');break}}else h&&g[m].domains&&(l=g[m].domains[b]||g[m].domains[b.substring(1)])&&(k||(k={value:null,type:{}}),'denied'!=k.value&&0<=h.indexOf(parseInt(g[m].value)+1)&&(k.value='approved'),'0'===
l?(k.value='denied',k.type[g[m].value]='denied'):'1'===l&&('denied'!=k.value&&(k.value='approved'),k.type[g[m].value]='approved'));return k};e.getConsentForDomain=function(b,f){if(!b||!f)return null;this.loadConsentDecision(f);var g=this.getConsentFromDomainlist(b,f,this.getStorage(truste.eu.COOKIE_CATEGORY_NAME,null,12,!0));if(!g)return null;g.currentDecision=f.consentDecisions||f.consentDecision;return f.consent[b]=g};e._imgrep=[];e.sendEvent=function(b,f,g,k,l,h){if(!(this.caddy&&this.caddy.hold||
this.tconsole.isDebug())){if(this.isCapable(b)){if(!isNaN(f)||this.fake.reportlevel&4)if(this.caddy){if(this.fake.reportlevel&2)return;b=this.caddy.from;if(this.fake.reportlevel&16&&h&&b&&this.endsWith(h,b)||this.fake.reportlevel&32&&k&&b&&this.endsWith(b,k))return}else if(this.fake.reportlevel&1||this.fake.reportlevel&8&&k&&h&&this.endsWith(h,k))return}else if('uka'==b&&this.fake.reportlevel&64)return;null==l&&(l={page:d.location.pathname});encodeURIComponent(f);g&&encodeURIComponent(g);encodeURIComponent(k);
l&&encodeURIComponent(this.cheapJSON(l));this.binfo&&(f=this.binfo.locale.indexOf('-'),encodeURIComponent(this.binfo.locale.slice(0,f)),encodeURIComponent(this.binfo.behavior),encodeURIComponent(this.binfo.locale.substr(f+1)))}};e.sendError=function(b,f,g,k,l){this.fake.reportlevel&128||this.caddy&&this.caddy.hold||this.tconsole.isDebug()||(k||(k={}),l&&l.stack&&(l.stack.match(/(@|at)[^\n\r\t]*/),l.stack.match(/(@|at)[^\n\r\t]*$/)),this.binfo&&(k.country=this.binfo.locale.slice(0,2)||this.binfo.country||
'',this.binfo.behavior&&(k.behavior=this.binfo.behavior),this.binfo.locale&&(k.locale=this.binfo.locale)),delete k.authority,delete k.action,delete k.self)};e.secondaryMessageProcessing=function(b,f,g){b.from=g;switch(b.action){case 'getConsentDecision':if(!b.self)return{error:'Missing identity of API caller'};this.requestors[g]=this.requestors[g]||[];this.requestors[g].push({w:f,getConsentDecision:1,t:null,a:b.self});return{consentDecision:null,source:null,capabilities:this.fake.capabilities};case 'updateDecision':if(0<
this.isAnAuthority(g)){f=b.value;if(f==this.fake.consentDecisions)break;this.fake.consentDecisions=f;this.loadConsentDecision(this.fake);this.tconsole.log('updated decision to : '+f);this.sendUpdatesTo(this.requestors,!0,b.timestamp);return null}this.tconsole.error('Unauthorized entity calling updateDecision',b);return{error:'Call is not from an authorized Location'};default:return this.tconsole.error('Unknown api call attempt',b),{error:'Call is not available'}}};e.secondaryAction=function(b,f,g,
k){switch(b){case 'getConsentDecision':return this.loadConsentDecision(this.fake),g=(k=this.fake.consentDecision)?parseInt(k):0,k=k?'asserted':'implied',this.sendEvent(b,-1,0,f),{consentDecision:g,source:k};case 'getGDPRConsentDecision':return this.loadConsentDecision(this.fake),g=(k=this.fake.consentDecisions)?k.split(/[,|]/).map(Number):[0],k=k?'asserted':'implied',this.sendEvent(b,-1,0,f),{consentDecision:g,source:k};case 'getConsentCategories':return{categories:truste.util.getStorage(truste.eu.COOKIE_CATEGORY_NAME)||
'no categories'};case 'setConsentLevels':for(b=g.length-1;0<=b;b--)for(f=0;f<b;f++)if(g[f]===g[b]){g.splice(b,1);break}var l=truste.eu.bindMap;b=l.feat.replaceDelimiter?'|':',';f=g.map(function(m){return m-1});var h=(1==g.at(0)?'':'0'+b)+f.join(b);truste.util.validConsent(h)?1==l.feat.gtm&&truste.util.deferCallUntil(function(){truste.util.isAcceptAll(h)?truste.util.optinAll():truste.eu.autoOptout(h,!1);truste.eu.iframe&&truste.eu.prefclose()},function(){return l.categoriesIndexesFromReferer},50,2E4):
console.log('Consent value passed is invalid.');case 'changeReportLevel':return g=parseInt(g+''),isNaN(g)||(this.fake.reportlevel=g),this.fake.reportlevel;default:return this.tconsole.error('Unknown api call attempt',{action:b,self:f,arg1:g,arg2:k}),{error:'Call is not available'}}};e.handleCMMessage=function(b,f){var g=null;if((f.origin===window.origin||truste.eu.msg.originSet.has(f.origin))&&'preference_manager'==b.source&&'submit_preferences'==b.message){var k=[],l=!1,h='object'==typeof b.data?
b.data.value:b.data;this.tconsole.log('got new values from consent manager: '+h);h&&h.split(/[,|]/).forEach(function(m){m=parseInt(m);isNaN(m)?l=!0:k.push(m+1)});l?(b.from=f.origin||f.cmId,b.msg=b.message,this.tconsole.error('Got invalid value from the CM: '+h,b)):g={value:k.join(),action:'updateDecision',timestamp:1}}return g};e.updateGTM=function(b){if(b&&!(1>b.consentDecision)&&b.consentDecisions){var f=this.binfo&&this.binfo.gtm_fun_ids||'ga-ms-ua',g=this.binfo&&this.binfo.gtm_adv_ids||'ta-asp-bzi-sp-awct-cts-csm-img-flc-fls-mpm-mpr-m6d-tc-tdc',
k,l=f+'-'+g,h=b.consentDecisions.split(/[,|]/);h.includes('1')&&(k='required');h.includes('2')&&(l=l.replace(f,''),k='functional');if(h.includes('3')||h.some(function(m){return 3<=Number(m)}))l=l.replace(g,''),k='';l=l.replace(/(^-)|(-$)/,'');b='permit '+b.consentDecisions+' '+k;if(truste.util.readCookie(truste.eu.CMAPI_PRIVACY,!0)!=b){truste.util.createCookie(truste.eu.CMAPI_BL,l);truste.util.createCookie(truste.eu.CMAPI_PRIVACY,b);this.binfo.crossDomain&&truste.eu.postMessageToFrame&&truste.eu.postMessageToFrame('updatePreference',
{cmapiBl:l,cmapiPrivacy:b,expiry:this.binfo.cookieExpiry},'trustarcNoticeFrame');if(b=d[this.binfo&&this.binfo.dl||'dataLayer'])b.push({'gtm.blacklist':l}),b.push({event:'cookie_prefs_set'});truste.util.fireCustomEvent('truste-consent-gtm',truste.eu.bindMap.prefCookie)}}};e.tconsole={};e.tconsole.isDebug=function(){return null!=(d.PrivacyManagerAPI||c).debug?(d.PrivacyManagerAPI||c).debug:0>d.location.hostname.indexOf('.')||0<d.location.hostname.indexOf('.truste-svc.net')};e.tconsole.log=function(b){var f=
d.console?!1:console.log.apply?console.log:Function.prototype.bind.call(console.log,console);return this.isDebug()&&f&&(f.apply(console,arguments)||!0)};e.tconsole.error=function(b,f,g){this.log('Error: '+b);f||(f={});g&&this.log(g.toString()+'\n'+g.stack);b&&(f.message=b);e.sendError&&e.sendError(f.action||'uk',f.authority,f.self||f.from,f,g)};e.parseJSON=function(b){if('string'==typeof b)try{return d.JSON?JSON.parse(b):!/[^,:{}\[\]0-9.\-+Eaeflnr-u \n\r\t]/.test(b.replace(/"(\\.|[^"\\])*"/g,''))&&
eval('('+b+')')}catch(f){if(/^\s*[{[].*[}\]]\s*$/.test(b))return this.tconsole.error('Could not parse json object: '+b.slice(0,35)+(35<b.length?'...':'')),null}return b};e.cheapJSON=function(b){return d.JSON&&JSON.stringify(b)||'{"PrivacyManagerAPI":{"message":"The API needs a JSON parser"}}'};e.getStorage=function(b,f,g,k){try{var l=!1,h=!(g&4)&&'truste.cookie.'||'',m=truste.eu&&truste.eu.bindMap;b=m&&m.feat.appendCmidEnabled?m.cmId+'_'+b:b;k=k?b:h+b;try{l=d.localStorage&&d.localStorage.getItem&&
!(g&2)}catch(u){}if(null==f){var n=!(g&1)&&(new RegExp('\\s*'+b.replace('.','\\.')+'\\s*=\\s*([^;\\s]*)')).exec(d.document.cookie.toString());if(n&&1<n.length)f=decodeURIComponent(n[1]),f=this.parseJSON(f)||f;else if(l){f=d.localStorage[k]||d.localStorage.getItem(k);var p=this.parseJSON(f);g&8||!p||null==p.value?f=p:(f=p.value,p.expires&&new Date(parseInt(p.expires))<new Date&&(this.getStorage(b,0,g),f=null))}return f}f&&!f.charAt&&(f=this.cheapJSON(f));var r=this.fake.cmId||this.binfo.cmId||null;
r&&('.'!=r.charAt(0)&&(r='.'+r),0>d.location.hostname.indexOf(r)&&(r=null));var q=new Date;q.setDate(this.binfo.cookieExpiry);var t='; expires='+(f?q.toUTCString():'Thu, 01 Jan 1970 00:00:01 GMT')+'; path=/'+(r?'; domain='+r:'');d.document.cookie=b+'='+encodeURIComponent(f)+t;if(l)if(f)g&8||(f=this.cheapJSON({name:b,value:f,expires:q.getTime()})),d.localStorage.setItem(k,f);else{d.localStorage.removeItem(k);try{delete d.localStorage[k]}catch(u){}}}catch(u){this.tconsole.error('error with getStorage',
{name:b,value:f},u)}return null};e.sendPost=function(b,f){if(d.postMessage&&b&&b.source&&f){'object'==typeof f&&(f=this.cheapJSON(f));var g=b.origin||b.cmId;'null'!=g&&g||(g='*');this.tconsole.log('responding to ('+g+') message : '+f);f&&b.source.postMessage(f,g)}};e.init=function(b,f,g){if(!this._hasLoadedPrefs){f=f||this.fake;try{b&&'string'==typeof b&&(b=this.parseJSON(b));this.tconsole.log('initing with object: ',b);if(b){for(var k in f)f[k]=b[k]||f[k];for(k in this.binfo)this.binfo[k]=b[k]||
this.binfo[k];b.blacklist instanceof Array&&(this.blacklist=this.blacklist.concat(b.blacklist))}g&&this.loadOldPrefs&&this.loadOldPrefs(f)}catch(l){this.tconsole.error('Error initing: ',f,l)}}};e.messageListener=function(b){var f,g=b.data&&e.parseJSON(b.data);if(g&&(f=g.PrivacyManagerAPI||e.handleCMMessage(g,b)))if(f.capabilities||f.error)e.tconsole.log('got my own message, returning'),e.tconsole.log(b);else if(f.timestamp&&f.action)try{e.tconsole.log('GOT VALID MESSAGE: '+b.data);var k=e.processMessage(f,
b);if(k){for(var l in k)f[l]=k[l];g.PrivacyManagerAPI&&e.sendPost(b,g)}}catch(h){e.caddy=null,f.from=b.origin||b.cmId,e.tconsole.error('TRUSTe Consent Manager API unknown error.',f,h),e.sendPost(b,{PrivacyManagerAPI:{error:'An unknown error occurred: '+h.toString()}})}else f.from=b.origin||b.cmId,e.tconsole.error('got invalid postmessage call, missing ts or action',f),e.sendPost(b,'{"PrivacyManagerAPI":{"error":"API Object missing required fields"}}')};c.init=function(b,f){e.init(b,null,f)};d.PREF_MGR_API_DEBUG=
e;if(d.postMessage){a=d.window;try{for(;a!=a.parent&&a.parent.document;)a=a.parent}catch(b){}a.addEventListener?(a.addEventListener('message',e.messageListener,!1),a!=d&&d.addEventListener('message',e.messageListener,!1)):(a.attachEvent('onmessage',e.messageListener),a!=d&&d.attachEvent('onmessage',e.messageListener))}e.fake.consentDecision=null;e.fake.capabilities.push('getConsentDecision','getGDPRConsentDecision','getConsentCategories','setConsentLevels');c.version='1.7';return c}
truste.eu.getCmapiSettings=function(){var a=truste.eu.bindMap;return{domain:a.cmId,locale:a.country+'-'+a.language,behavior:a.behavior,country:a.country,gtm:a.feat.gtm,crossDomain:a.feat.crossDomain,cookieExpiry:a.cookieExpiry}};
truste.eu.init=function(){var a=truste.eu.bindMap;truste.util.setSession();if(a.feat.uidEnabled){var c=truste.util.readCookieStorage(truste.eu.COOKIE_UID);null==c&&(c=truste.util.getRandomUUID());truste.eu.consentUID=c}truste.eu.icon.make(function(){a.feat.linkBannerMode?(truste.bn.openBanner(),truste.eu._dispatchEvent('click')):truste.eu.clickListener(a.pageNumber,!1)});a.feat.dropBehaviorCookie&&truste.util.createCookie(truste.eu.COOKIE_BEHAVIOR,a.behavior+','+a.behaviorManager,'0');truste.eu.addEventListener(function(d){'click'==
d?(truste.eu.msg.log(d,a,a.messageBaseUrl),null==truste.util.getIntValue(a.prefCookie)&&truste.eu.msg.log('consent',a,a.messageBaseUrl)):'close'==d&&truste.eu.sendclosereport&&(d=truste.eu.bindMap.messageBaseUrl.replace('noticemsg','consentmsg'),truste.eu.msg.log('close_button',truste.eu.bindMap,d))});c=function(){truste.eu.msg.addEventListener(truste.eu.actmessage);truste.eu.icon.initialize();truste.util.fetchCategoryIndexesWithTrackers('',function(){finishLoad()});a.feat.crossDomain&&setTimeout(function(){a.flags.isConsentRetrieved=
!0;truste.util.fetchCategoryIndexesWithTrackers('',function(){finishLoad()})},4500)};/Firefox[\/\s](\d+\.\d+)/.test(self.navigator.userAgent)&&3.6>new Number(RegExp.$1)&&'complete'!=truste.util.readyState()?self.addEventListener('load',c,!1):c();a.apiDefaults&&13<a.apiDefaults.length&&self.PrivacyManagerAPI.init(a.apiDefaults);'implied'==a.behavior&&self.PrivacyManagerAPI.init({default_consent:'approved'});self.PrivacyManagerAPI.init(truste.eu.getCmapiSettings(),!0)};
truste.eu.gpcDntAutoOptOut=function(){var a=truste.eu.bindMap;if(truste.util.isGPC()||truste.util.isDNT()){var c='';a.feat.gpc?(c=a.gpcOptedIn,a.feat.isGPCOptoutEvent=!0):(c=a.dntOptedIn,a.feat.isDNTOptoutEvent=!0);if(a.feat.isGPCOptoutEvent||a.feat.isDNTOptoutEvent)a.feat.gpcdntflag=1;var d=truste.util.isAutoblock()&&trustarc.ccm.cab.getInfo().sourceConsent,e='dnt'==d||'gpc'==d;e&&(truste.util.trace('sourceConsent : ['+d+'] reset'),trustarc.ccm.cab.resetSourceConsent());''===c?(a.feat.isGPCOptoutEvent&&
(a.gpcOptedIn='0'),a.feat.isDNTOptoutEvent&&(a.dntOptedIn='0'),truste.util.consentRequiredlevel(e)):(truste.eu.bindMap.categoriesIndexesFromReferer&&(c=truste.util.cookieConsentValue(c)),truste.util.createPreferenceFromCookieValue(c,e));truste.util.callCMEndpoint('/defaultconsentmanager/getOptOutDomains?',null,function(b){b=b.responseText;null!==b&&JSON.parse(b)&&truste.util.setStorage(truste.eu.COOKIE_CATEGORY_NAME,JSON.stringify(b),!1)});truste.eu.bindMap.prefCookie=c}};
function finishLoad(){var a=truste.eu.bindMap;if(!finishLoad.done&&(!a.feat.crossDomain||a.flags.isConsentRetrieved)){finishLoad.done=!0;truste.eu.gpcDntAutoOptOut();var c=function(){var e=truste.eu.bindMap;if(e.feat.consentResolution){var b=truste.util.readCookie(truste.eu.COOKIE_GDPR_PREF_NAME,!0);if(b&&(b=b.split(':'),!/bindMap.behavior[|,]bindMap.behaviorManager/.test(b[2])&&(/(,us|none)/i.test(b[2])||'eu'==e.behaviorManager&&'implied,eu'==b[2])))return!0}return!1},d=function(){var e=(new Date).getTime(),
b=truste.util.readCookie(truste.eu.COOKIE_REPOP,!0),f=truste.eu.bindMap.popTime;return f&&f!=b&&e>=f}();d&&(a.flags.dropPopCookie=!0);a.feat.isDNTOptoutEvent||(null!=truste.util.getIntValue(a.prefCookie)?('expressed'==a.behavior&&(d||c())&&(a.flags.isRepopEvent=!0,a.flags.isReconsentEvent=d,truste.eu.clickListener(a.pageNumber,!0)),truste.eu.msg.log('returns',a,a.messageBaseUrl)):'expressed'==a.behavior&&(truste.eu.clickListener(a.pageNumber,!0),truste.eu.msg.log('consent',a,a.messageBaseUrl)));truste.eu.bindMap.flags.loaded=
!0}}
(function(){function a(){truste.cma=self.PrivacyManagerAPI=module_cmapi_core.call(self,truste.eu.getCmapiSettings());self.TRUSTE_CMAPI_DEBUG=self.PREF_MGR_API_DEBUG;truste.cma.debug=truste.eu.bindMap.debug;truste.eu.init()}var c=truste.util.readCookie(truste.eu.COOKIE_GDPR_PREF_NAME,!0);truste.util.readCookie(truste.eu.COOKIE_SCAN)&&c?(c=c.split(':'),truste.util.callCMEndpoint('/defaultconsentmanager/getOptOutDomains?',c[0],function(d){d=d.responseText;null!==d&&JSON.parse(d)&&(truste.util.setStorage(truste.eu.COOKIE_CATEGORY_NAME,d,
!1),a())})):a()})();
}).call(this)
